

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>IndexedDB：浏览器端数据库 &mdash; JS 教程 beta 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Web Notifications API" href="notification.html" />
    <link rel="prev" title="CORS通信" href="cors.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> JS 教程
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">导论</a></li>
<li class="toctree-l1"><a class="reference internal" href="../grammar/index.html">基本语法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/index.html">stdlib 标准库</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oop/index.html">面向对象编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">语法专题</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM 模型</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">BOM 浏览器环境</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="engine.html">浏览器环境概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="window.html">window对象</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html">History 对象</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookie.html">Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="webstorage.html">浏览器端数据储存机制</a></li>
<li class="toctree-l2"><a class="reference internal" href="same-origin.html">同源政策</a></li>
<li class="toctree-l2"><a class="reference internal" href="ajax.html">AJAX</a></li>
<li class="toctree-l2"><a class="reference internal" href="cors.html">CORS通信</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">IndexedDB：浏览器端数据库</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexeddb-open">indexedDB.open()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexeddb">indexedDB实例对象的方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#createobjectstore">createObjectStore方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#objectstorenames">objectStoreNames属性</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transaction">transaction方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#createindex">createIndex方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index">index方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#idbkeyrange">IDBKeyRange对象</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">参考链接</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notification.html">Web Notifications API</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobile.html">移动设备API</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">JS 教程</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">BOM 浏览器环境</a> &raquo;</li>
        
      <li>IndexedDB：浏览器端数据库</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="indexeddb">
<span id="indexeddb"></span><h1>IndexedDB：浏览器端数据库<a class="headerlink" href="#indexeddb" title="永久链接至标题">¶</a></h1>
<div class="section" id="">
<span id="id1"></span><h2>概述<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>随着浏览器的处理能力不断增强，越来越多的网站开始考虑，将大量数据储存在客户端，这样可以减少用户等待从服务器获取数据的时间。</p>
<p>现有的浏览器端数据储存方案，都不适合储存大量数据：Cookie 不超过4KB，且每次请求都会发送回服务器端；LocalStorage 在 2.5MB 到 10MB 之间（各家浏览器不同）。所以，需要一种新的解决方案，这就是 IndexedDB 诞生的背景。</p>
<p>通俗地说，IndexedDB 就是浏览器端数据库，可以被网页脚本程序创建和操作。它允许储存大量数据，提供查找接口，还能建立索引。这些都是 LocalStorage 所不具备的。就数据库类型而言，IndexedDB 不属于关系型数据库（不支持 SQL 查询语句），更接近 NoSQL 数据库。</p>
<p>IndexedDB 具有以下特点。</p>
<p><strong>（1）键值对储存。</strong> IndexedDB 内部采用对象仓库（object store）存放数据。所有类型的数据都可以直接存入，包括 JavaScript 对象。在对象仓库中，数据以“键值对”的形式保存，每一个数据都有对应的键名，键名是独一无二的，不能有重复，否则会抛出一个错误。</p>
<p><strong>（2）异步。</strong>  IndexedDB 操作时不会锁死浏览器，用户依然可以进行其他操作，这与 LocalStorage 形成对比，后者的操作是同步的。异步设计是为了防止大量数据的读写，拖慢网页的表现。</p>
<p><strong>（3）支持事务。</strong> IndexedDB 支持事务（transaction），这意味着一系列操作步骤之中，只要有一步失败，整个事务就都取消，数据库回到事务发生之前的状态，不存在只改写一部分数据的情况。</p>
<p><strong>（4）同域限制</strong> IndexedDB 也受到同域限制，每一个数据库对应创建该数据库的域名。来自不同域名的网页，只能访问自身域名下的数据库，而不能访问其他域名下的数据库。</p>
<p><strong>（5）储存空间大</strong> IndexedDB 的储存空间比 LocalStorage 大得多，一般来说不少于250MB。IE的储存上限是250MB，Chrome和Opera是剩余空间的某个百分比，Firefox 则没有上限。</p>
<p><strong>（6）支持二进制储存。</strong> IndexedDB 不仅可以储存字符串，还可以储存二进制数据。</p>
<p>下面的代码用来检查浏览器是否支持这个 API。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="s1">&#39;indexedDB&#39;</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// 支持</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// 不支持</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="indexeddb-open">
<span id="indexeddb-open"></span><h2>indexedDB.open()<a class="headerlink" href="#indexeddb-open" title="永久链接至标题">¶</a></h2>
<p>浏览器原生提供<code class="docutils literal notranslate"><span class="pre">indexedDB</span></code>对象，作为开发者的操作接口。<code class="docutils literal notranslate"><span class="pre">indexedDB.open</span></code>方法用于打开数据库。</p>
<p>{% highlight javascript %}</p>
<p>var openRequest = indexedDB.open(&quot;test&quot;,1);</p>
<p>{% endhighlight %}</p>
<p>open方法的第一个参数是数据库名称，格式为字符串，不可省略；第二个参数是数据库版本，是一个大于0的正整数（0将报错）。上面代码表示，打开一个名为test、版本为1的数据库。如果该数据库不存在，则会新建该数据库。如果省略第二个参数，则会自动创建版本为1的该数据库。</p>
<p>打开数据库的结果是，有可能触发4种事件。</p>
<ul class="simple">
<li><strong>success</strong>：打开成功。</li>
<li><strong>error</strong>：打开失败。</li>
<li><strong>upgradeneeded</strong>：第一次打开该数据库，或者数据库版本发生变化。</li>
<li><strong>blocked</strong>：上一次的数据库连接还未关闭。</li>
</ul>
<p>第一次打开数据库时，会先触发upgradeneeded事件，然后触发success事件。</p>
<p>根据不同的需要，对上面4种事件设立回调函数。</p>
<p>{% highlight javascript %}</p>
<p>var openRequest = indexedDB.open(&quot;test&quot;,1);
var db;</p>
<p>openRequest.onupgradeneeded = function(e) {
console.log(&quot;Upgrading...&quot;);
}</p>
<p>openRequest.onsuccess = function(e) {
console.log(&quot;Success!&quot;);
db = e.target.result;
}</p>
<p>openRequest.onerror = function(e) {
console.log(&quot;Error&quot;);
console.dir(e);
}</p>
<p>{% endhighlight %}</p>
<p>上面代码有两个地方需要注意。首先，open方法返回的是一个对象（IDBOpenDBRequest），回调函数定义在这个对象上面。其次，回调函数接受一个事件对象event作为参数，它的target.result属性就指向打开的IndexedDB数据库。</p>
</div>
<div class="section" id="indexeddb">
<span id="id2"></span><h2>indexedDB实例对象的方法<a class="headerlink" href="#indexeddb" title="永久链接至标题">¶</a></h2>
<p>获得数据库实例以后，就可以用实例对象的方法操作数据库。</p>
<div class="section" id="createobjectstore">
<span id="createobjectstore"></span><h3>createObjectStore方法<a class="headerlink" href="#createobjectstore" title="永久链接至标题">¶</a></h3>
<p>createObjectStore方法用于创建存放数据的“对象仓库”（object store），类似于传统关系型数据库的表格。</p>
<p>{% highlight javascript %}</p>
<p>db.createObjectStore(&quot;firstOS&quot;);</p>
<p>{% endhighlight %}</p>
<p>上面代码创建了一个名为firstOS的对象仓库，如果该对象仓库已经存在，就会抛出一个错误。为了避免出错，需要用到下文的objectStoreNames属性，检查已有哪些对象仓库。</p>
<p>createObjectStore方法还可以接受第二个对象参数，用来设置“对象仓库”的属性。</p>
<p>{% highlight javascript %}</p>
<p>db.createObjectStore(&quot;test&quot;, { keyPath: &quot;email&quot; });
db.createObjectStore(&quot;test2&quot;, { autoIncrement: true });</p>
<p>{% endhighlight %}</p>
<p>上面代码中的keyPath属性表示，所存入对象的email属性用作每条记录的键名（由于键名不能重复，所以存入之前必须保证数据的email属性值都是不一样的），默认值为null；autoIncrement属性表示，是否使用自动递增的整数作为键名（第一个数据为1，第二个数据为2，以此类推），默认为false。一般来说，keyPath和autoIncrement属性只要使用一个就够了，如果两个同时使用，表示键名为递增的整数，且对象不得缺少指定属性。</p>
</div>
<div class="section" id="objectstorenames">
<span id="objectstorenames"></span><h3>objectStoreNames属性<a class="headerlink" href="#objectstorenames" title="永久链接至标题">¶</a></h3>
<p>objectStoreNames属性返回一个DOMStringList对象，里面包含了当前数据库所有“对象仓库”的名称。可以使用DOMStringList对象的contains方法，检查数据库是否包含某个“对象仓库”。</p>
<p>{% highlight javascript %}</p>
<p>if(!db.objectStoreNames.contains(&quot;firstOS&quot;)) {
db.createObjectStore(&quot;firstOS&quot;);
}</p>
<p>{% endhighlight %}</p>
<p>上面代码先判断某个“对象仓库”是否存在，如果不存在就创建该对象仓库。</p>
</div>
<div class="section" id="transaction">
<span id="transaction"></span><h3>transaction方法<a class="headerlink" href="#transaction" title="永久链接至标题">¶</a></h3>
<p>transaction方法用于创建一个数据库事务。向数据库添加数据之前，必须先创建数据库事务。</p>
<p>{% highlight javascript %}</p>
<p>var t = db.transaction([&quot;firstOS&quot;],&quot;readwrite&quot;);</p>
<p>{% endhighlight %}</p>
<p>transaction方法接受两个参数：第一个参数是一个数组，里面是所涉及的对象仓库，通常是只有一个；第二个参数是一个表示操作类型的字符串。目前，操作类型只有两种：readonly（只读）和readwrite（读写）。添加数据使用readwrite，读取数据使用readonly。</p>
<p>transaction方法返回一个事务对象，该对象的objectStore方法用于获取指定的对象仓库。</p>
<p>{% highlight javascript %}</p>
<p>var t = db.transaction([&quot;firstOS&quot;],&quot;readwrite&quot;);</p>
<p>var store = t.objectStore(&quot;firstOS&quot;);</p>
<p>{% endhighlight %}</p>
<p>transaction方法有三个事件，可以用来定义回调函数。</p>
<ul class="simple">
<li><strong>abort</strong>：事务中断。</li>
<li><strong>complete</strong>：事务完成。</li>
<li><strong>error</strong>：事务出错。</li>
</ul>
<p>{% highlight javascript %}</p>
<p>var transaction = db.transaction([&quot;note&quot;], &quot;readonly&quot;);</p>
<p>transaction.oncomplete = function(event) {
// some code
};</p>
<p>{% endhighlight %}</p>
<p>事务对象有以下方法，用于操作数据。</p>
<p><strong>（1）添加数据：add方法</strong></p>
<p>获取对象仓库以后，就可以用add方法往里面添加数据了。</p>
<p>{% highlight javascript %}</p>
<p>var store = t.objectStore(&quot;firstOS&quot;);</p>
<p>var o = {p: 123};</p>
<p>var request = store.add(o,1);</p>
<p>{% endhighlight %}</p>
<p>add方法的第一个参数是所要添加的数据，第二个参数是这条数据对应的键名（key），上面代码将对象o的键名设为1。如果在创建数据仓库时，对键名做了设置，这里也可以不指定键名。</p>
<p>add方法是异步的，有自己的success和error事件，可以对这两个事件指定回调函数。</p>
<p>{% highlight javascript %}</p>
<p>var request = store.add(o,1);</p>
<p>request.onerror = function(e) {
console.log(&quot;Error&quot;,e.target.error.name);
// error handler
}</p>
<p>request.onsuccess = function(e) {
console.log(&quot;数据添加成功！&quot;);
}</p>
<p>{% endhighlight %}</p>
<p><strong>（2）读取数据：get方法</strong></p>
<p>读取数据使用get方法，它的参数是数据的键名。</p>
<p>{% highlight javascript %}</p>
<p>var t = db.transaction([&quot;test&quot;], &quot;readonly&quot;);
var store = t.objectStore(&quot;test&quot;);</p>
<p>var ob = store.get(x);</p>
<p>{% endhighlight %}</p>
<p>get方法也是异步的，会触发自己的success和error事件，可以对它们指定回调函数。</p>
<p>{% highlight javascript %}</p>
<p>var ob = store.get(x);</p>
<p>ob.onsuccess = function(e) {
// ...
}</p>
<p>{% endhighlight %}</p>
<p>从创建事务到读取数据，所有操作方法也可以写成下面这样链式形式。</p>
<p>{% highlight javascript %}</p>
<p>db.transaction([&quot;test&quot;], &quot;readonly&quot;)
.objectStore(&quot;test&quot;)
.get(X)
.onsuccess = function(e){}</p>
<p>{% endhighlight %}</p>
<p><strong>（3）更新记录：put方法</strong></p>
<p>put方法的用法与add方法相近。</p>
<p>{% highlight javascript %}</p>
<p>var o = { p:456 };
var request = store.put(o, 1);</p>
<p>{% endhighlight %}</p>
<p><strong>（4）删除记录：delete方法</strong></p>
<p>删除记录使用delete方法。</p>
<p>{% highlight javascript %}</p>
<p>var t = db.transaction([&quot;people&quot;], &quot;readwrite&quot;);
var request = t.objectStore(&quot;people&quot;).delete(thisId);</p>
<p>{% endhighlight %}</p>
<p>delete方法的参数是数据的键名。另外，delete也是一个异步操作，可以为它指定回调函数。</p>
<p><strong>（5）遍历数据：openCursor方法</strong></p>
<p>如果想要遍历数据，就要openCursor方法，它在当前对象仓库里面建立一个读取光标（cursor）。</p>
<p>{% highlight javascript %}</p>
<p>var t = db.transaction([&quot;test&quot;], &quot;readonly&quot;);
var store = t.objectStore(&quot;test&quot;);</p>
<p>var cursor = store.openCursor();</p>
<p>{% endhighlight %}</p>
<p>openCursor方法也是异步的，有自己的success和error事件，可以对它们指定回调函数。</p>
<p>{% highlight javascript %}</p>
<p>cursor.onsuccess = function(e) {
var res = e.target.result;
if(res) {
console.log(&quot;Key&quot;, res.key);
console.dir(&quot;Data&quot;, res.value);
res.continue();
}
}</p>
<p>{% endhighlight %}</p>
<p>回调函数接受一个事件对象作为参数，该对象的target.result属性指向当前数据对象。当前数据对象的key和value分别返回键名和键值（即实际存入的数据）。continue方法将光标移到下一个数据对象，如果当前数据对象已经是最后一个数据了，则光标指向null。</p>
<p>openCursor方法还可以接受第二个参数，表示遍历方向，默认值为next，其他可能的值为prev、nextunique和prevunique。后两个值表示如果遇到重复值，会自动跳过。</p>
</div>
<div class="section" id="createindex">
<span id="createindex"></span><h3>createIndex方法<a class="headerlink" href="#createindex" title="永久链接至标题">¶</a></h3>
<p>createIndex方法用于创建索引。</p>
<p>假定对象仓库中的数据对象都是下面person类型的。</p>
<p>{% highlight javascript %}</p>
<p>var person = {
name:name,
email:email,
created:new Date()
}</p>
<p>{% endhighlight %}</p>
<p>可以指定这个数据对象的某个属性来建立索引。</p>
<p>{% highlight javascript %}</p>
<p>var store = db.createObjectStore(&quot;people&quot;, { autoIncrement:true });</p>
<p>store.createIndex(&quot;name&quot;,&quot;name&quot;, {unique:false});
store.createIndex(&quot;email&quot;,&quot;email&quot;, {unique:true});</p>
<p>{% endhighlight %}</p>
<p>createIndex方法接受三个参数，第一个是索引名称，第二个是建立索引的属性名，第三个是参数对象，用来设置索引特性。unique表示索引所在的属性是否有唯一值，上面代码表示name属性不是唯一值，email属性是唯一值。</p>
</div>
<div class="section" id="index">
<span id="index"></span><h3>index方法<a class="headerlink" href="#index" title="永久链接至标题">¶</a></h3>
<p>有了索引以后，就可以针对索引所在的属性读取数据。index方法用于从对象仓库返回指定的索引。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">db</span><span class="p">.</span><span class="nx">transaction</span><span class="p">([</span><span class="s2">&quot;people&quot;</span><span class="p">],</span><span class="s2">&quot;readonly&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">t</span><span class="p">.</span><span class="nx">objectStore</span><span class="p">(</span><span class="s2">&quot;people&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">index</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
</pre></div>
</div>
<p>上面代码打开对象仓库以后，先用index方法指定索引在name属性上面，然后用get方法读取某个name属性所在的数据。如果没有指定索引的那一行代码，get方法只能按照键名读取数据，而不能按照name属性读取数据。需要注意的是，这时get方法有可能取回多个数据对象，因为name属性没有唯一值。</p>
<p>另外，get是异步方法，读取成功以后，只能在success事件的回调函数中处理数据。</p>
</div>
</div>
<div class="section" id="idbkeyrange">
<span id="idbkeyrange"></span><h2>IDBKeyRange对象<a class="headerlink" href="#idbkeyrange" title="永久链接至标题">¶</a></h2>
<p>索引的有用之处，还在于可以指定读取数据的范围。这需要用到浏览器原生的IDBKeyRange对象。</p>
<p>IDBKeyRange对象的作用是生成一个表示范围的Range对象。生成方法有四种：</p>
<ul class="simple">
<li><strong>lowerBound方法</strong>：指定范围的下限。</li>
<li><strong>upperBound方法</strong>：指定范围的上限。</li>
<li><strong>bound方法</strong>：指定范围的上下限。</li>
<li><strong>only方法</strong>：指定范围中只有一个值。</li>
</ul>
<p>下面是一些代码实例：</p>
<p>{% highlight javascript %}</p>
<p>// All keys ≤ x
var r1 = IDBKeyRange.upperBound(x);</p>
<p>// All keys &lt; x
var r2 = IDBKeyRange.upperBound(x, true);</p>
<p>// All keys ≥ y
var r3 = IDBKeyRange.lowerBound(y);</p>
<p>// All keys &gt; y
var r4 = IDBKeyRange.lowerBound(y, true);</p>
<p>// All keys ≥ x &amp;&amp; ≤ yvar r5 = IDBKeyRange.bound(x, y);</p>
<p>// All keys &gt; x &amp;&amp;&lt; yvar r6 = IDBKeyRange.bound(x, y, true, true);</p>
<p>// All keys &gt; x &amp;&amp; ≤ yvar r7 = IDBKeyRange.bound(x, y, true, false);</p>
<p>// All keys ≥ x &amp;&amp;&lt; yvar r8 = IDBKeyRange.bound(x, y, false, true);</p>
<p>// The key = zvar r9 = IDBKeyRange.only(z);</p>
<p>{% endhighlight %}</p>
<p>前三个方法（lowerBound、upperBound和bound）默认包括端点值，可以传入一个布尔值，修改这个属性。</p>
<p>生成Range对象以后，将它作为参数输入openCursor方法，就可以在所设定的范围内读取数据。</p>
<p>{% highlight javascript %}</p>
<p>var t = db.transaction([&quot;people&quot;],&quot;readonly&quot;);
var store = t.objectStore(&quot;people&quot;);
var index = store.index(&quot;name&quot;);</p>
<p>var range = IDBKeyRange.bound('B', 'D');</p>
<p>index.openCursor(range).onsuccess = function(e) {
var cursor = e.target.result;
if(cursor) {
console.log(cursor.key + &quot;:&quot;);
for(var field in cursor.value) {
console.log(cursor.value[field]);
}
cursor.continue();
}
}</p>
<p>{% endhighlight %}</p>
</div>
<div class="section" id="">
<span id="id3"></span><h2>参考链接<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Raymond Camden, <a class="reference external" href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb/">Working With IndexedDB – Part 1</a></li>
<li>Raymond Camden, <a class="reference external" href="http://net.tutsplus.com/tutorials/javascript-ajax/working-with-indexeddb-part-2/">Working With IndexedDB – Part 2</a></li>
<li>Tiffany Brown, <a class="reference external" href="http://dev.opera.com/articles/introduction-to-indexeddb/">An Introduction to IndexedDB</a></li>
<li>David Fahlander, <a class="reference external" href="https://hacks.mozilla.org/2014/06/breaking-the-borders-of-indexeddb/">Breaking the Borders of IndexedDB</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="notification.html" class="btn btn-neutral float-right" title="Web Notifications API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cors.html" class="btn btn-neutral" title="CORS通信" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Vic Wang.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'beta',
            LANGUAGE:'zh',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/GA.js"></script>
      <script type="text/javascript" src="../_static/googleAnalysis.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>