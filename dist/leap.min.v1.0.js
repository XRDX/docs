!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){var i=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}function e(i,s,n,o,r){"object"==typeof s&&(n=s.depth,o=s.prototype,s.includeNonEnumerable,s=s.circular);var h=[],a=[];return void 0===s&&(s=!0),void 0===n&&(n=1/0),function i(n,r){if(null===n)return null;if(0===r)return n;var l,c;if("object"!=typeof n)return n;if(t(n,Image))return(l=new Image).crossOrigin="anonymous",l.src=n.src,l;if(e.__isArray(n)?l=[]:e.__isDate(n)?l=new Date(n.getTime()):t(n,Error)?l=Object.create(n):void 0===o?(c=Object.getPrototypeOf(n),l=Object.create(c)):(l=Object.create(o),c=o),s){var u=h.indexOf(n);if(-1!=u)return a[u];h.push(n),a.push(l)}for(var f in n){var d;c&&(d=Object.getOwnPropertyDescriptor(c,f)),d&&null==d.set||(l[f]=i(n[f],r-1))}return l}(i,n)}function i(t){return Object.prototype.toString.call(t)}return e.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},e.__objToStr=i,e.__isDate=function(t){return"object"==typeof t&&"[object Date]"===i(t)},e.__isArray=function(t){return"object"==typeof t&&"[object Array]"===i(t)},e}();"object"==typeof t&&t.exports&&(t.exports=i)},function(t,e,i){"use strict";var s;i.r(e);var n=new Set;n.push=function(t){this.delete(t),this.add(t)};const o={};class r{constructor(){this.anchorX=void 0,this.anchorY=void 0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.translateX=0,this.translateY=0,this._degree=0,this.anchor={x:.5,y:.5}}transformed(){return 1!==this.scaleX||1!==this.scaleY||this.skewX||this.skewY||this.translateX||this.translateY||this._degree}scale(t,e){[this.scaleX,this.scaleY]=[t,e]}skew(t,e){[this.skewX,this.skewY]=[t,e]}translate(t,e){[this.translateX,this.translateY]=[t,e]}setAnchor(t,e){[this.anchorX,this.anchorY]=[t,e],this.anchor=void 0}setAnchorRate(t,e){this.anchorX=this.anchorY=void 0,this.anchor={x:t,y:e}}rotate(t){this._degree=t*Math.PI/180}set degree(t){this._degree=t*Math.PI/180}get degree(){return this._degree}getRealPoint(t){if(!this.transformed())return t;let{x:e,y:i}=t;e-=this.anchorX,i-=this.anchorY;let s=this.degree,n=Math.sin(s),o=Math.cos(s);return[e,i]=[e*o-i*n,i*o+e*n],[e,i]=[this.scaleX*e+this.skewX*i+this.translateX,this.skewY*e+this.scaleY*i+this.translateY],{x:e+=this.anchorX,y:i+=this.anchorY}}}let h=document.createElement("canvas"),a=document.createElement("p");document.body.appendChild(h),document.body.appendChild(a),h.style.cssText="\n  border: 1px solid #d3d3d3;\n\n  user-select:none; \n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n\n  -webkit-touch-callout:none;\n  touch-callout:none;",a.style.cssText="color: orange;";let l=h.getContext("2d");function c(t,e,i,s){l.beginPath(),l.moveTo(t,e),l.lineTo(i,s),l.stroke()}l._setTransform=function(t){l.setTransform(1,0,0,1,0,0),l.transform(t.scaleX,t.skewX,t.skewY,t.scaleY,t.translateX,t.translateY),l.rotate(t.degree)},h.resize=function(t,e){h.width=t||450,h.height=e||600,l.fillStyle=l.strokeStyle="orange",l.textBaseline="top",l.shadowBlur=5,l.shadowOffsetX=2,l.shadowOffsetY=2,l.shadowOpen=!0},h.shadow=function(t=!0){l.shadowOpen=t},h.resize(),h.transform=new r,h.scale=function(t,e){h.transform.scale(t,e),l._setTransform(h.transform),l.lineWidth=2/(t+e)},h.rotate=function(t){h.transform.rotate(t),l._setTransform(h.transform)},h._translate=function(t,e){h.transform.translate(t,e),l._setTransform(h.transform)},h.clear=function(){n.clear(),l.save(),l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,h.width,h.height),l.restore()},h.showAxis=function(){l.save(),l.strokeStyle="#ff8800",l.fillStyle="#ff8800",l.shadowColor="rgba(0,0,0,0)";let t=h.transform,e=10;t.scaleX>=10&&t.scaleY>=10&&(e=1);let i=h.width/Math.abs(t.scaleX),s=h.height/Math.abs(t.scaleY);l.font=1.5*e+"px Arial";for(let t=0;t<i;t+=e)t%(10*e)==0?(l.fillText(t,t,0),l.fillText(-t,-t,0),l.lineWidth=e/20):l.lineWidth=e/50,c(t,-s,t,s),c(-t,-s,-t,s);for(let t=0;t<s;t+=e)t%(10*e)==0?(l.fillText(t,0,t),l.fillText(-t,0,-t),l.lineWidth=e/20):l.lineWidth=e/50,c(-i,t,i,t),c(-i,-t,i,-t);l.restore()},l.update=function(t){t.fillStyle&&(l.fillStyle=t.fillStyle),t.strokeStyle&&(l.strokeStyle=t.strokeStyle),t.lineCap&&(l.lineCap=t.lineCap),t.lineJoin&&(l.lineJoin=t.lineJoin),void 0!==t.lineWidth&&(l.lineWidth=t.lineWidth),void 0!==t.miterLimit&&(l.miterLimit=t.miterLimit),void 0!==t.globalAlpha&&(l.globalAlpha=t.globalAlpha),t.globalCompositeOperation&&(l.globalCompositeOperation=t.globalCompositeOperation),t.lineDash&&l.setLineDash(t.lineDash),t.textAlign&&(l.textAlign=t.textAlign),t.textBaseline&&(l.textBaseline=t.textBaseline),t.shadowColor?l.shadowColor=t.shadowColor:l.shadowOpen&&l.globalAlpha>=1&&(l.shadowColor="#00000088"),void 0!==t.shadowBlur&&(l.shadowBlur=t.shadowBlur),void 0!==t.shadowOffsetX&&(l.shadowOffsetX=t.shadowOffsetX),void 0!==t.shadowOffsetY&&(l.shadowOffsetY=t.shadowOffsetY),t.transform.transformed()&&(t.updateAnchor(),l.updateTransform(t.transform))},l.updateTransform=function(t){l.translate(t.anchorX,t.anchorY),l.rotate(t.degree),l.transform(t.scaleX,t.skewX,t.skewY,t.scaleY,t.translateX,t.translateY),l.translate(-t.anchorX,-t.anchorY)},h.getRealPoint=function(t){if(!this.transform.transformed())return t;let e=this.transform,{x:i,y:s}=t;[i,s]=[(i-e.translateX)/e.scaleX,(s-e.translateY)/e.scaleY];let n=Math.sin(-e.degree),o=Math.cos(-e.degree)[s]=[i*o-s*n,s*o+i*n];return{x:i,y:s}};let u={};const f="abcdefghijklmnopqrstuvwxyz1234567890!@#$%^&*()_+-=,./<>?|\\;:'\"",d=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape"," ","Tab","Shift","Control","Alt","Backspace"],m=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Escape","Tab","Shift","Control","Alt","Backspace"];for(let t=0;t<f.length;t++)u[f[t]]={};for(let t=0;t<d.length;t++)u[d[t]]={};document.onkeyup=function(t){let e=u[t.key];e&&e.up&&e.up()},document.onkeydown=function(t){let e=u[t.key];e&&e.down&&e.down(),m.includes(t.key)&&e.press&&e.press()},document.onkeypress=function(t){let e=u[t.key];e&&e.press&&e.press()};let w={x:0,y:0},p={};function y(t){t.touches&&(t=t.touches.item(0));let e=function(t,e,i){let s=t.getBoundingClientRect();return e-=s.left*(t.width/s.width),i-=s.top*(t.height/s.height),t.getRealPoint({x:e,y:i})}(h,t.clientX,t.clientY);w.x=Math.floor(e.x),w.y=Math.floor(e.y),a.innerHTML=`x: ${w.x}, y: ${w.y}`}p.init=function(){p.x=w.x,p.y=w.y},h.onmousedown=function(t){y(t),w.down&&w.down();const e=Array.from(n);let i=e.length;for(;i--;){let t=e[i];if(t.touched()&&t.click){t.click();break}}},h.ontouchstart=function(t){h.onmousedown(t),p.init()},h.onmousemove=function(t){y(t),w.move&&w.move()},h.ontouchmove=function(t){h.onmousemove(t),w.x-p.x>50&&u.ArrowRight.down?(u.ArrowRight.down(),p.init()):p.x-w.x>50&&u.ArrowLeft.down&&(u.ArrowLeft.down(),p.init()),p.y-w.y>50&&u.ArrowUp.down?(u.ArrowUp.down(),p.init()):w.y-p.y>50&&u.ArrowDown.down&&(u.ArrowDown.down(),p.init()),t.preventDefault()},h.ontouchend=h.onmouseup=function(t){y(t),w.up&&w.up()},h.onclick=function(t){y(t),w.click&&w.click()};let x,g=0,_=0;let T={add:function(){g++},load:function(){_++,v=0},isLoaded:function(){return _>=g}},v=0;function X(){l.save(),h.clear();let t=h.width,e=h.height;if(l.fillStyle="lightblue",l.fillRect(0,0,t,e),T.isLoaded())x();else{l.textAlign="center",l.fillText("LeapLearner",.5*t,.3*e);let i="loading";for(let t=0;t<v/20%3;t++)i+=".";l.fillText(i,.5*t,.5*e),l.fillStyle="orange";let s=.8*t*(_+v/(v+100))/g;l.fillRect(.1*t,.8*e,s,.025*e),l.fillStyle="white",l.fillRect(.1*t+s,.8*e,.8*t-s,.025*e),v++,setTimeout(X,20)}l.restore()}let Y=document.createElement("canvas").getContext("2d");function b(t,e,i,s){let[n,o,r,h,a,l,c,u]=[t.x,t.y,e.x,e.y,i.x,i.y,s.x,s.y];if(Math.min(n,r)>Math.max(a,c)||Math.min(o,h)>Math.max(l,u)||Math.max(n,r)<Math.min(a,c)||Math.max(o,h)<Math.min(l,u))return!1;if((o-h)*(a-c)==(n-r)*(l-u))return!1;if(P(i,e,i,s)*P(i,s,i,t)<0||P(t,s,t,e)*P(t,e,t,i)<0)return!1;let f=(h-o)*n+(n-r)*o,d=(u-l)*a+(a-c)*l,m=(r-n)*(u-l)-(c-a)*(h-o);return{x:(d*(r-n)-f*(c-a))/m,y:(d*(h-o)-f*(u-l))/m}}function P(t,e,i,s){return(e.x-t.x)*(s.y-i.y)-(e.y-t.y)*(s.x-i.x)}function k(t){let e=t.map(t=>t.x),i=t.map(t=>t.y);return{minX:Math.min(...e),maxX:Math.max(...e),minY:Math.min(...i),maxY:Math.max(...i)}}function M(t,e){return e.minX<=t.x&&t.x<=e.maxX&&e.minY<=t.y&&t.y<=e.maxY}Y.drawPathByPoints=function(t){Y.beginPath(),Y.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++)Y.lineTo(t[e].x,t[e].y);Y.closePath()};var S=i(0),A=i.n(S);class O{constructor(){this.transform=new r,this._points=[]}set color(t){this.fillStyle=this.strokeStyle=t}_path(){}_stroke(){this._path(),l.stroke()}_fill(){this._path(),l.fill()}stroke(){n.push(this),l.save(),l.update(this),this._stroke(),l.restore()}fill(){n.push(this),l.save(),l.update(this),this._fill(),l.restore()}_draw(){this._path(),l.fill()}draw(){n.push(this),l.save(),l.update(this),this._draw(),l.restore()}translate(t,e){this.transform.translate(t,e)}scale(t,e){this.transform.scale(t,e)}skew(t,e){this.transform.skew(t,e)}setAnchor(t,e){this.transform.setAnchor(t,e)}setAnchorRate(t,e){this.transform.setAnchorRate(t,e)}rotate(t){this.transform.rotate(t)}getRealPoint(t){return this.transform.getRealPoint(t)}touched(){return function(t,e){let i=e.points;return!(i.length<3)&&!!M(t,k(i))&&(Y.drawPathByPoints(i),!!Y.isPointInPath(t.x,t.y)&&t)}(w,this)}collide(t){return t instanceof O&&function(t,e){const i=t.points,s=e.points;if(i.length<2)return!1;if(s.length<2)return!1;let n={},o={};if(n=k(i),o=k(s),n.minX>o.maxX||n.minY>o.maxY||o.minX>n.maxX||o.minY>n.maxY)return!1;let r=function(t,e){return{minX:t.minX>e.minX?t.minX:e.minX,minY:t.minY>e.minY?t.minY:e.minY,maxX:t.maxX<e.maxX?t.maxX:e.maxX,maxY:t.maxY<e.maxY?t.maxY:e.maxY}}(n,o);Y.drawPathByPoints(s);for(let t=0;t<i.length;t++){let e=i[t];if(M(e,r)&&Y.isPointInPath(e.x,e.y))return e}Y.drawPathByPoints(i);for(let t=0;t<s.length;t++){let e=s[t];if(M(e,r)&&Y.isPointInPath(e.x,e.y))return e}for(let t=0;t<i.length-1;t++){let e=i[t],n=i[t+1];for(let t=0;t<s.length-1;t++){let i=b(e,n,s[t],s[t+1]);if(i)return i}}return!1}(this,t)}clone(){return A()(this,!1)}_updatePoints(){}get points(){return this._updatePoints(),this._points.map(t=>this.transform.getRealPoint(t))}get minX(){return Math.min(...this._points.map(t=>t.x))}get minY(){return Math.min(...this._points.map(t=>t.y))}get maxX(){return Math.max(...this._points.map(t=>t.x))}get maxY(){return Math.max(...this._points.map(t=>t.y))}updateAnchor(){this._updatePoints();let t=this.transform;t.anchor&&(t.anchorX=this.minX+(this.maxX-this.minX)*t.anchor.x,t.anchorY=this.minY+(this.maxY-this.minY)*t.anchor.y)}}class D extends O{constructor(t=50,e=50,i=20,s="orange"){super(),this.x=t,this.y=e,this.r=i,this.fillStyle=this.strokeStyle=s}get radius(){return this.r}set radius(t){this.r=t}_path(){l.beginPath(),l.arc(this.x,this.y,this.r,0,2*Math.PI)}_updatePoints(){this._points=[];let t=2*Math.PI/8;for(let e=0;e<8;e++)this._points.push({x:this.x+this.r*Math.sin(t*e),y:this.y+this.r*Math.cos(t*e)})}}class R extends O{constructor(t=100,e=100,i=200,s=100,n=1,o="orange"){super(),this.x1=t,this.y1=e,this.x2=i,this.y2=s,this.lineWidth=n,this.strokeStyle=o}_path(){l.beginPath(),l.moveTo(this.x1,this.y1),l.lineTo(this.x2,this.y2)}_updatePoints(){this._points=[],this._points.push({x:this.x1,y:this.y1}),this._points.push({x:this.x2,y:this.y2})}get x(){return(this.x1+this.x2)/2}set x(t){let e=t-this.x;this.x1+=e,this.x2+=e}get y(){return(this.y1+this.y2)/2}set y(t){let e=t-this.y;this.y1+=e,this.y2+=e}}R.prototype.draw=R.prototype.stroke;class j extends O{constructor(...t){super(),t.length<6&&console.log("Polygon should have at lease 3 points"),this._points=[];for(let e=0;e<t.length-1;e+=2){let i={x:t[e],y:t[e+1]};this._points.push(i)}let e=t[t.length-1];"string"==typeof e&&(this.fillStyle=this.strokeStyle=e)}_path(){l.beginPath();let t=this._points[0];l.moveTo(t.x,t.y);for(let e=1;e<this._points.length;e++)t=this._points[e],l.lineTo(t.x,t.y);l.closePath()}get x(){return(this.minX+this.maxX)/2}set x(t){let e=t-this.x;for(let t=0;t<this._points.length;t++)this._points[t].x+=e}get y(){return(this.minY+this.maxY)/2}set y(t){let e=t-this.y;for(let t=0;t<this._points.length;t++)this._points[t].y+=e}}const C=j;class I extends O{constructor(t=100,e=100,i=100,s=50,n="orange"){super(),this.x=t,this.y=e,this.w=i,this.h=s,this.fillStyle=this.strokeStyle=n,this.collideW=1,this.collideH=1}get width(){return this.w}set width(t){this.w=t}get height(){return this.h}set height(t){this.h=t}_path(){l.beginPath(),l.rect(this.x,this.y,this.w,this.h)}setCollisionScale(t,e){this.collideW=t,this.collideH=e}_updatePoints(){this._points=[];let t=this.x+this.w/2*(1-this.collideW),e=this.x+this.w/2*(1+this.collideW),i=this.y+this.h/2*(1-this.collideH),s=this.y+this.h/2*(1+this.collideH);this._points.push({x:t,y:i}),this._points.push({x:t,y:s}),this._points.push({x:e,y:s}),this._points.push({x:e,y:i})}}class W extends I{constructor(t="LeapLearner",e=0,i=0,s=20,n="orange",o="Arial"){super(e,i,100,s),this._src=t,this._font=o,this.fillStyle=this.strokeStyle=n,this._updateWidth()}_updateWidth(){l.save(),l.update(this),l.font=this.h+"px "+this._font,this.w=l.measureText(this._src).width,l.restore()}get src(){return this._src}set src(t){this._src=t,this._updateWidth()}get size(){return this.h}set size(t){this.h=t,this._updateWidth()}get font(){return this._font}set font(t){this._font=t,this._updateWidth()}_stroke(){l.font=this.size+"px "+this.font,l.strokeText(this.src,this.x,this.y)}_fill(){l.font=this.size+"px "+this.font,l.fillText(this.src,this.x,this.y)}draw(){this.fill()}}class L extends I{constructor(t,e=0,i=0,s=null,n=null){super(e,i,s,n),this.collideW=.8,this.collideH=.8,this.img=new window.Image,this.img.crossOrigin="anonymous",this.img.onload=function(){T.load()},this.img.onerror=function(){console.log("图片加载失败："+this.src)},this.img.src=t,T.add()}get src(){return this.img.src}set src(t){this.img.src=t}set onload(t){this.img.onload=function(){t()}}clip(t,e,i,s){this.sx=t>0?t:1,this.sy=e>0?e:1,this.sw=i,this.sh=s}_draw(){this.img.complete?this.sx&&this.sy&&this.sw&this.sh?l.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,this.x,this.y,this.w,this.h):this.w&&this.h?l.drawImage(this.img,this.x,this.y,this.w,this.h):l.drawImage(this.img,this.x,this.y):setTimeout(function(t){t.draw()},100,this)}fill(){}stroke(){}}class B extends D{constructor(t,e,i="red"){super(t,e,1,i),this.strokeStyle="rgba(0,0,0,0)"}}class E extends O{constructor(t=200,e=100,i=100,s=50,n="orange"){super(),this.x=t,this.y=e,this.rX=i,this.rY=s,this.fillStyle=this.strokeStyle=n}_path(){l.beginPath(),l.ellipse(this.x,this.y,this.rX,this.rY,0,0,2*Math.PI)}_updatePoints(){this._points=[];let t=2*Math.PI/8;for(let e=0;e<8;e++)this._points.push({x:this.x+this.rX*Math.sin(t*e),y:this.y+this.rY*Math.cos(t*e)})}get radiusX(){return this.rX}set radiusX(t){this.rX=t}get radiusY(){return this.rY}set radiusY(t){this.rY=t}}let $=!0;function H(t,e){let i=new t(...e);$?i.draw():i.stroke(),n.delete(i)}const z=function(...t){H(I,t)},F=function(...t){H(j,t)},U=F,J={};window.canvas=h,window.ctx=l,window.Line=R,window.Rectangle=I,window.Polygon=j,window.Triangle=C,window.Circle=D,window.Text=W,window.Sprite=L,window.Animation=class extends L{constructor(t,e,i,s,n){super(t,e,i,s,n),this.speed=10,this._cf=0,this.setFrame()}setFrame(t=4,e=1){this._c=t,this._r=e}setSpeed(t){this.speed=t,this.speed<1&&(this.speed=1),this.speed>100&&(this.speed=100)}_draw(){if(!this.img.complete)return void setTimeout(function(t){t.draw()},100,this);this.sw=this.img.naturalWidth/this._c,this.sh=this.img.naturalHeight/this._r;let t=this.sw*(Math.floor(this._cf*this.speed/60)%this._c),e=this.sh*(Math.floor(this._cf*this.speed/60/this._c)%this._r);l.drawImage(this.img,t,e,this.sw,this.sh,this.x,this.y,this.w,this.h),this._cf++}},window.Point=B,window.Ellipse=E,window.Key=u,window.Mouse=w,window.loadRssAndRun=function(t){x=t,X()},window.run=function(t,e=20){o[t.name]=setInterval(t,e)},window.stop=function(t){let e=o[t.name];e&&clearInterval(e)},window.nextFrame=function(t){s&&window.cancelAnimationFrame(s),s=window.requestAnimationFrame(t)},window.RGB=function(t,e,i){return"rgb("+(t=Math.floor(t))+", "+(e=Math.floor(e))+", "+(i=Math.floor(i))+")"},window.RGBA=function(t,e,i,s){return"rgba("+(t=Math.floor(t))+", "+(e=Math.floor(e))+", "+(i=Math.floor(i))+", "+s+")"},window.HSL=function(t,e,i){return`hsl(${t=Math.floor(t)}, ${100*e}%, ${100*i}%)`},window.HSLA=function(t,e,i,s){return`hsla(${t=Math.floor(t)}, ${100*e}%, ${100*i}%, ${s})`},window.Swing=class{constructor(t,e,i,s=!0){this.min=t,this.max=e,this.cycleTime=i,this.loop=s,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return!this.loop&&e>this.cycleTime?this.min:((e%=this.cycleTime)>this.cycleTime/2&&(e=this.cycleTime-e),2*(this.max-this.min)*e/this.cycleTime+this.min)}},window.Increase=class{constructor(t,e,i,s=!0){this.min=t,this.max=e,this.cycleTime=i,this.loop=s,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return!this.loop&&e>this.cycleTime?this.max:(e%=this.cycleTime,(this.max-this.min)*e/this.cycleTime+this.min)}},window.Sine=class{constructor(t,e,i,s=!0){this.mean=t,this.wave=e,this.cycleTime=i,this.loop=s,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return!this.loop&&e>this.cycleTime?this.mean:(e%=this.cycleTime,this.mean+this.wave*Math.sin(e/this.cycleTime*Math.PI*2))}},window.Volatile=class{constructor(t){this.func=t,this.startTime=(new Date).getTime()}[Symbol.toPrimitive](t){let e=((new Date).getTime()-this.startTime)/1e3;return this.func(e)}},window.randint=function(t,e){return t=Math.floor(t),e=Math.floor(e),Math.floor(t+Math.random()*(e-t+1))},window.background=function(t){z(0,0,h.width,h.height,t)},window.fill=function(t=!0){$=t},window.rectangle=z,window.circle=function(...t){H(D,t)},window.line=function(...t){H(R,t)},window.point=function(...t){H(B,t)},window.polygon=F,window.triangle=U,window.ellipse=function(...t){H(E,t)},window.image=function(...t){H(L,t)},window.text=function(...t){H(W,t)},window.play=function(t,e=!1){let i;J.hasOwnProperty(t)?((i=J[t]).loop=e,i.play()):((i=new Audio).src=t,i.loop=e,J[t]=i,i.oncanplaythrough=function(){this.play()})},window.pause=function(t){J.hasOwnProperty(t)&&J[t].pause()},window.noStroke=function(){console.log("'noStroke()'不再使用了, 请使用'fill(boolen)'")},window.canvas.preventDefaultEvent=function(){console.log("'canvas.preventDefaultEvent()'不再使用了")},window.playSound=function(){console.log("'playSound()'不再使用了, 请使用'play()'")},window.font=function(){console.log("'font()'不再使用了，请直接使用'text()'方法")}}]);