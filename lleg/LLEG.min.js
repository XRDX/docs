!function(t){function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var n={};i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=6)}([function(t,i,n){var e=n(1).shapeList,o=document.createElement("canvas"),r=document.createElement("p");document.body.appendChild(o),document.body.appendChild(r),o.width=350,o.height=550,o.style="border: 1px solid #d3d3d3;";var s=o.getContext("2d");s.strokeStyle="#00FFFF",s.fillStyle="rgba(0, 255, 255, 0.5)",o.clear=function(){e=[],s.clearRect(0,0,o.width,o.height)},s.drawPathByPoints=function(t){s.beginPath(),s.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;i++)s.lineTo(t[i].x,t[i].y);s.closePath()},t.exports={canvas:o,ctx:s,p:r}},function(t,i,n){var e=n(7);!function(){for(var t=0,i=["webkit","moz"],n=0;n<i.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[i[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[n]+"CancelAnimationFrame"]||window[i[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,n){var e=(new Date).getTime(),o=Math.max(0,16.7-(e-t)),r=window.setTimeout(function(){i(e+o)},o);return t=e+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var o,r=function(t){o&&window.cancelAnimationFrame(o),o=window.requestAnimationFrame(t)},s=function(t,i){var n=Object.create(i.prototype);n.constructor=t,t.prototype=n};Array.prototype.contain=function(t){for(var i=this.length;i--;)if(this[i]===t)return!0;return!1},Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)},Object.prototype.clone=function(){return e(this,!1)};var a=[];t.exports={inheritPrototype:s,nextFrame:r,shapeList:a}},function(t,i,n){function e(){this.transform=new d,this.points=[],this.globalAlpha=1}function o(t,i,n){e.call(this),this.x=t||20,this.y=i||20,this.r=n||20}function r(t,i,n,o){e.call(this),this.x1=t,this.y1=i,this.x2=n,this.y2=o}function s(){if(e.call(this),arguments.length<6)throw"Polygon should have at lease 3 points";this.points=[];for(var t=0;t<arguments.length-1;t+=2){var i={x:arguments[t],y:arguments[t+1]};this.points.push(i)}}function a(t,i,n,e,o,r){s.call(this,t,i,n,e,o,r)}function h(t,i,n,o){e.call(this),this.x=t,this.y=i,this.width=n,this.height=o,this.collideW=1,this.collideH=1}function c(t,i,n,o,r){e.call(this),this.src=t,this.x=i||0,this.y=n||20,this.font=r||"20px Arial",this.fillStyle=o||"orange"}function u(t,i,n,e,o){h.call(this,i,n,e,o),this.img=new Image,this.img.src=t,w.add(),this.img.onload=function(){w.load()}}function l(t,i,n,e,o){u.call(this,t,i,n,e,o),this.speed=1}function p(t,i){o.call(this,t,i,2),this.fillStyle="red"}var f=n(0).ctx,y=n(1).inheritPrototype,d=n(9).Transform,w=n(3),m=n(1).shapeList;e.prototype._draw=null,e.prototype.click=null,e.prototype.updateCtx=function(t){this.globalAlpha&&(t.globalAlpha=this.globalAlpha),this.strokeStyle&&(t.strokeStyle=this.strokeStyle),this.fillStyle&&(t.fillStyle=this.fillStyle),this.lineWidth&&(t.lineWidth=this.lineWidth),this.transform.updateCtx(t)},e.prototype.getPoints=function(){return this.points},e.prototype.stroke=function(){this.click&&m.push(this),f.save(),this.updateCtx(f),f.beginPath(),this._draw(),f.closePath(),f.stroke(),f.restore()},e.prototype.fill=function(){this.click&&m.push(this),f.save(),this.updateCtx(f),f.beginPath(),this._draw(),f.fill(),f.closePath(),f.restore()},e.prototype.draw=function(){this.click&&m.push(this),f.save(),this.updateCtx(f),f.beginPath(),this._draw(),f.closePath(),f.fill(),f.stroke(),f.restore()},e.prototype.translate=function(t,i){this.transform.translate(t,i)},e.prototype.scale=function(t,i){this.transform.scale(t,i)},e.prototype.skew=function(t,i){this.transform.skew(t,i)},e.prototype.setAnchor=function(t,i){this.transform.setAnchor(t,i)},e.prototype.rotate=function(t){this.transform.rotate(t)},y(o,e),o.prototype._draw=function(){f.arc(this.x,this.y,this.r,0,2*Math.PI)},o.prototype.getPoints=function(){var t=this.x,i=this.y,n=this.r,e=[];return e.push({x:t,y:i+n}),e.push({x:t+.5*n,y:i+.866*n}),e.push({x:t+.866*n,y:i+.5*n}),e.push({x:t+n,y:i}),e.push({x:t+.866*n,y:i-.5*n}),e.push({x:t+.5*n,y:i-.866*n}),e.push({x:t,y:i-n}),e.push({x:t-.5*n,y:i-.866*n}),e.push({x:t-.866*n,y:i-.5*n}),e.push({x:t-n,y:i}),e.push({x:t-.866*n,y:i+.5*n}),e.push({x:t-.5*n,y:i+.866*n}),e},y(r,e),r.prototype._draw=function(){f.moveTo(this.x1,this.y1),f.lineTo(this.x2,this.y2)},r.prototype.getPoints=function(){return this.points=[],this.points.push({x:this.x1,y:this.y1}),this.points.push({x:this.x2,y:this.y2}),this.points},y(s,e),s.prototype._draw=function(){var t=this.points[0];f.moveTo(t.x,t.y);for(var i=1;i<this.points.length;i++)t=this.points[i],f.lineTo(t.x,t.y)},y(a,s),y(h,e),h.prototype._draw=function(){f.rect(this.x,this.y,this.width,this.height)},h.prototype.setCollisionScale=function(t,i){this.collideW=t,this.collideH=i},h.prototype.getPoints=function(){this.points=[];var t=this.x+this.width/2*(1-this.collideW),i=this.x+this.width/2*(1+this.collideW),n=this.y+this.height/2*(1-this.collideH),e=this.y+this.height/2*(1+this.collideH);return this.points.push({x:t,y:n}),this.points.push({x:t,y:e}),this.points.push({x:i,y:e}),this.points.push({x:i,y:n}),this.points},y(c,e),c.prototype.stroke=function(){f.save(),this.updateCtx(f),f.font=this.font,f.strokeText(this.src,this.x,this.y),f.restore()},c.prototype.fill=function(){f.save(),this.updateCtx(f),f.font=this.font,f.fillText(this.src,this.x,this.y),f.restore()},c.prototype.draw=c.prototype.fill,String.prototype.draw=function(t,i,n,e){new c(this,t,i,n,e).draw()},y(u,h),u.prototype.url=function(t){this.img.src=t},u.prototype.clip=function(t,i,n,e){this.sx=t>0?t:1,this.sy=i>0?t:1,this.swidth=n,this.sheight=e,this.width=this.width||n,this.height=this.height||e},u.prototype._draw=function(){this.sx&&this.sy&&this.swidth&this.sheight?f.drawImage(this.img,this.sx,this.sy,this.swidth,this.sheight,this.x,this.y,this.width,this.height):this.width&&this.height?f.drawImage(this.img,this.x,this.y,this.width,this.height):f.drawImage(this.img,this.x,this.y)},u.prototype.fill=null,u.prototype.stroke=null,y(l,u),l.prototype.setFrame=function(t,i,n,e,o,r){this.c=o,this.r=r||1,this.cf=0,this.clip(t,i,n,e)},l.prototype.setSpeed=function(t){this.speed=t>1?t:1},l.prototype._draw=function(){var t=this.sx+this.swidth*(Math.floor(this.cf/this.speed)%this.c),i=this.sy+this.sheight*(Math.floor(this.cf/this.c/this.speed)%this.r);f.drawImage(this.img,t,i,this.swidth,this.sheight,this.x,this.y,this.width,this.height),this.cf++},y(p,o),p.prototype.draw=p.prototype.fill,Object.prototype.draw=function(){for(key in this)shape=this[key],shape instanceof e&&shape.draw()},t.exports={Shape:e,Line:r,Rectangle:h,Polygon:s,Triangle:a,Circle:o,Point:p,Text:c,Sprite:u,Animation:l}},function(t,i){function n(t){a=t,s()}function e(){h++}function o(){c++}function r(){return c>=h}function s(){if(r())a();else{canvas.clear(),"LeapLearner".draw(canvas.width/2-110,200,null,"40px Arial");for(var t="loading",i=0;i<u%6;i++)t+=".";var n=new Rectangle(50,canvas.height-200,canvas.width-100,10),e=new Rectangle(50,canvas.height-200,(canvas.width-100)*c/h,10);e.fillStyle="orange",n.fill(),e.fill(),t.draw(canvas.width/2-40,canvas.height-220),u++,setTimeout(s,500)}}var a,h=0,c=0,u=0;t.exports={add:e,load:o,loadRssAndRun:n}},function(t,i,n){function e(t,i,n){var e=t.getBoundingClientRect();return{x:i-e.left*(t.width/e.width),y:n-e.top*(t.height/e.height)}}function o(t){t.touches&&(t=t.touches.item(0));var i=e(r,t.clientX,t.clientY);h.x=Math.floor(i.x),h.y=Math.floor(i.y),s.innerHTML=h.x+", "+h.y}var r=n(0).canvas,s=(n(5).Key,n(0).p),a=n(1).shapeList,h={x:0,y:0},c={};c.init=function(){c.x=h.x,c.y=h.y},r.onmousedown=function(t){o(t),h.down&&h.down();for(var i=a.length;i--;){var n=a[i];n.click&&n.touched()&&n.click();break}},r.ontouchstart=function(t){t.preventDefault(),r.onmousedown(t),c.init()},r.onmousemove=function(t){o(t),h.move&&h.move()},r.ontouchmove=function(t){t.preventDefault(),r.onmousemove(t),h.x-c.x>50&&Key.ArrowRight.down?(Key.ArrowRight.down(),c.init()):c.x-h.x>50&&Key.ArrowLeft.down&&(Key.ArrowLeft.down(),c.init()),c.y-h.y>50&&Key.ArrowUp.down?(Key.ArrowUp.down(),c.init()):h.y-c.y>50&&Key.ArrowDown.down&&(Key.ArrowDown.down(),c.init())},r.ontouchend=r.onmouseup=function(t){t.preventDefault(),o(t),h.up&&h.up()},r.onclick=function(t){o(t),h.click&&h.click()},t.exports={Mouse:h,Touch:h}},function(t,i){for(var n={},e="abcdefghijklmnopqrstuvwxyz1234567890",o=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape"],r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Escape"],s=0;s<e.length;s++)n[e[s]]={};for(s=0;s<o.length;s++)n[o[s]]={};document.onkeyup=function(t){var i=n[t.key];i&&i.up&&i.up()},document.onkeydown=function(t){var i=n[t.key];i&&i.down&&i.down(),r.contain(t.key)&&i.press&&i.press()},document.onkeypress=function(t){var i=n[t.key];i&&i.press&&i.press()},t.exports={Key:n}},function(t,i,n){var e=n(0).canvas,o=n(0).ctx,r=(n(8),n(5).Key),s=n(4).Mouse,a=n(2),h=n(3),c=n(10),u=n(1);window.canvas=e,window.ctx=o,window.Line=a.Line,window.Rectangle=a.Rectangle,window.Polygon=a.Polygon,window.Triangle=a.Triangle,window.Circle=a.Circle,window.Text=a.Text,window.Sprite=a.Sprite,window.Animation=a.Animation,window.Point=a.Point,window.Key=r,window.Mouse=s,window.nextFrame=u.nextFrame,window.loadRssAndRun=h.loadRssAndRun,window.RGB=c.RGB,window.RGBA=c.RGBA},function(t,i){var n=function(){"use strict";function t(t,i){return null!=i&&t instanceof i}function i(n,e,o,r,u){function l(n,o){if(null===n)return null;if(0===o)return n;var d,w;if("object"!=typeof n)return n;if(t(n,a))d=new a;else if(t(n,h))d=new h;else if(t(n,c))d=new c(function(t,i){n.then(function(i){t(l(i,o-1))},function(t){i(l(t,o-1))})});else if(i.__isArray(n))d=[];else if(i.__isRegExp(n))d=new RegExp(n.source,s(n)),n.lastIndex&&(d.lastIndex=n.lastIndex);else if(i.__isDate(n))d=new Date(n.getTime());else{if(y&&Buffer.isBuffer(n))return d=new Buffer(n.length),n.copy(d),d;t(n,Error)?d=Object.create(n):void 0===r?(w=Object.getPrototypeOf(n),d=Object.create(w)):(d=Object.create(r),w=r)}if(e){var m=p.indexOf(n);if(-1!=m)return f[m];p.push(n),f.push(d)}t(n,a)&&n.forEach(function(t,i){var n=l(i,o-1),e=l(t,o-1);d.set(n,e)}),t(n,h)&&n.forEach(function(t){var i=l(t,o-1);d.add(i)});for(var x in n){var g;w&&(g=Object.getOwnPropertyDescriptor(w,x)),g&&null==g.set||(d[x]=l(n[x],o-1))}if(Object.getOwnPropertySymbols)for(var v=Object.getOwnPropertySymbols(n),x=0;x<v.length;x++){var b=v[x],P=Object.getOwnPropertyDescriptor(n,b);(!P||P.enumerable||u)&&(d[b]=l(n[b],o-1),P.enumerable||Object.defineProperty(d,b,{enumerable:!1}))}if(u)for(var A=Object.getOwnPropertyNames(n),x=0;x<A.length;x++){var k=A[x],P=Object.getOwnPropertyDescriptor(n,k);P&&P.enumerable||(d[k]=l(n[k],o-1),Object.defineProperty(d,k,{enumerable:!1}))}return d}"object"==typeof e&&(o=e.depth,r=e.prototype,u=e.includeNonEnumerable,e=e.circular);var p=[],f=[],y="undefined"!=typeof Buffer;return void 0===e&&(e=!0),void 0===o&&(o=1/0),l(n,o)}function n(t){return Object.prototype.toString.call(t)}function e(t){return"object"==typeof t&&"[object Date]"===n(t)}function o(t){return"object"==typeof t&&"[object Array]"===n(t)}function r(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function s(t){var i="";return t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),i}var a;try{a=Map}catch(t){a=function(){}}var h;try{h=Set}catch(t){h=function(){}}var c;try{c=Promise}catch(t){c=function(){}}return i.clonePrototype=function(t){if(null===t)return null;var i=function(){};return i.prototype=t,new i},i.__objToStr=n,i.__isDate=e,i.__isArray=o,i.__isRegExp=r,i.__getRegExpFlags=s,i}();"object"==typeof t&&t.exports&&(t.exports=n)},function(t,i,n){function e(t,i){var n=t.getPoints(),e=i.getPoints();if(n.length<2)return!1;if(e.length<2)return!1;var h,c,l={},p={};if(l=s(n),p=s(e),l.minX>p.maxX||l.minY>p.maxY||p.minX>l.maxX||p.minY>l.maxY)return!1;var f=o(l,p);for(u.drawPathByPoints(e),h=0;h<n.length;h++)if(x=n[h],a(x,f)&&u.isPointInPath(x.x,x.y))return x;for(u.drawPathByPoints(n),h=0;h<e.length;h++)if(x=e[h],a(x,f)&&u.isPointInPath(x.x,x.y))return x;for(h=0;h<n.length-1;h++)for(var y=n[h],d=n[h+1],c=0;c<e.length-1;c++){var w=e[c],m=e[c+1],x=r(y,d,w,m);if(x)return x}return!1}function o(t,i){return{minX:i.minX>i.minX?t.minX:i.minX,minY:t.minY>i.minY?t.minY:i.minY,maxX:t.maxX<i.maxX?t.maxX:i.maxX,maxY:t.maxY<i.maxY?t.maxY:i.maxY}}function r(t,i,n,e){var o=t.x,r=i.x,s=n.x,a=e.x,h=t.y,c=i.y,u=n.y,l=e.y;if(Math.min(o,r)>Math.max(s,a)||Math.min(h,c)>Math.max(u,l)||Math.max(o,r)<Math.min(s,a)||Math.max(h,c)<Math.min(u,l))return!1;if((h-c)*(s-a)==(o-r)*(u-l))return!1;var p=o*(u-c)+r*(h-u)+s*(c-h),f=o*(l-c)+r*(h-l)+a*(c-h);if(p*f>=0&&(0!=p||0!=f))return!1;var y=(c-h)*o+(o-r)*h,d=(l-l)*s+(s-a)*u,w=(r-o)*(l-u)-(a-s)*(c-h);return{x:(d*(r-o)-y*(a-s))/w,y:(d*(c-h)-y*(l-u))/w}}function s(t){var i=t.map(function(t){return t.x}),n=t.map(function(t){return t.y});return{minX:i.min(),maxX:i.max(),minY:n.min(),maxY:n.max()}}function a(t,i){return i.minX<=t.x&&t.x<=i.maxX&&i.minY<=t.y&&t.y<=i.maxY}function h(t,i){var n=i.getPoints();return!(n.length<3)&&(!!a(t,s(n))&&(u.drawPathByPoints(n),!!u.isPointInPath(t.x,t.y)&&t))}var c=n(2),u=n(0).ctx,l=n(4).Mouse,p=c.Shape;p.prototype.collide=function(t){if(t instanceof p)return e(this,t);for(var i in t)if(shape=t[i],shape instanceof p){var n=this.collide(shape);if(n)return n}return!1},p.prototype.touched=function(){return h(l,this)},Object.prototype.collide=function(t){for(var i in this){var n=this[i];if(n instanceof p){var e=n.collide(t);if(e)return e}}return!1}},function(t,i){function n(){this.anchorX=0,this.anchorY=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.translateX=0,this.translateY=0,this.degree=0}n.prototype.scale=function(t,i){this.scaleX=t,this.scaleY=i},n.prototype.translate=function(t,i){this.translateX=t,this.translateY=i},n.prototype.skew=function(t,i){this.skewX=t,this.skewY=i},n.prototype.setAnchor=function(t,i){this.anchorX=t,this.anchorY=i},n.prototype.rotate=function(t){this.degree=t},n.prototype.updateCtx=function(t){var i=this.degree*Math.PI/180;t.translate(this.anchorX,this.anchorY),t.rotate(i),t.transform(this.scaleX,this.skewX,this.skewY,this.scaleY,this.translateX,this.translateY),t.translate(-this.anchorX,-this.anchorY)},t.exports={Transform:n}},function(t,i){function n(t,i,n){return"rgb("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(n)+")"}function e(t,i,n,e){return"rgba("+Math.floor(t)+","+Math.floor(i)+","+Math.floor(n)+","+e+")"}t.exports={RGB:n,RGBA:e}}]);