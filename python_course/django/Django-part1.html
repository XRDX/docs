

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>一个完整的初学者指南Django - 第1部分 &mdash; Python 教程 beta 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="介绍" href="Django-part2.html" />
    <link rel="prev" title="Django" href="Django.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Python 教程
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../python1/index.html">第一章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python2/index.html">第二章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python3/index.html">第三章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python4/index.html">第四章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python5/index.html">第五章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python6/index.html">第六章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python7/index.html">第七章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python8/index.html">第八章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python9/index.html">第九章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python10/index.html">第十章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python11/index.html">第十一章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python12/index.html">第十二章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python13/index.html">第十三章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python14/index.html">第十四章</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Python高级用法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeSpecification/index.html">Python代码规范</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Django</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Django.html">Django</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">一个完整的初学者指南Django - 第1部分</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#">介绍</a></li>
<li class="toctree-l3"><a class="reference internal" href="#django">为什么选择 Django？</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#django">谁在使用Django？</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#">安装</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#python-3-6-2">安装Python 3.6.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#virtualenv">安装 Virtualenv</a></li>
<li class="toctree-l4"><a class="reference internal" href="#django-1-11-4">安装Django 1.11.4</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#">开始一个新项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="#django">Django 的应用</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hello-world">Hello, World!</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">总结</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Django-part2.html">介绍</a></li>
<li class="toctree-l2"><a class="reference internal" href="Django-part2.html#">论坛项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="Django-part2.html#models">模型（Models）</a></li>
<li class="toctree-l2"><a class="reference internal" href="Django-part2.html#views-templates">Views, Templates 和静态文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="Django-part2.html#django-admin">Django Admin简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="Django-part2.html#">结论</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Python 教程</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Django</a> &raquo;</li>
        
      <li>一个完整的初学者指南Django - 第1部分</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="django-1">
<span id="django-1"></span><h1>一个完整的初学者指南Django - 第1部分<a class="headerlink" href="#django-1" title="永久链接至标题">¶</a></h1>
<p><img alt="一个完整的初学者指南Django  - 第1部分" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/featured.jpg" /></p>
<p><img alt="Python 3.6.2" src="https://img.shields.io/badge/python-3.6.2-brightgreen.svg" />&nbsp;<img alt="Django 1.11.4" src="https://img.shields.io/badge/django-1.11.4-brightgreen.svg" /></p>
<div class="section" id="">
<span id="id1"></span><h2>介绍<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p><img alt="欢迎班" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/Pixton_Comic_Welcome_Class.png" /></p>
<p>今天我将开始一个关于 Django 基础知识的新系列教程。这是一个完整的 Django 初学者指南。材料分为七个部分。我们将从安装，开发环境准备，模型，视图，模板，URL 到更高级主题（如迁移，测试和部署）来探索所有基本概念。</p>
<p>我想做一些不同的事情。一个教程，易于遵循，信息丰富和有趣的阅读。因此我想出了在文章中创建一些漫画的想法来说明一些概念和场景。希望你喜欢这种阅读方式！</p>
<p>但在我们开始之前......</p>
<p>我想通过孔夫子的名言来开始我们的课程：</p>
<blockquote>
<div><p>我听见了，我就忘了</p>
<p>我看见了，我就记得了</p>
<p>我去做了，我就理解了</p>
</div></blockquote>
<p><img alt="孔子名言" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/Pixton_Comic_Confucius_Quote.png" /></p>
<p>所以，一定要动手！不要只阅读教程。让我们一起来实操，这样你将通过做和练会学习到更多的知识。</p>
</div>
<hr class="docutils" />
<div class="section" id="django">
<span id="django"></span><h2>为什么选择 Django？<a class="headerlink" href="#django" title="永久链接至标题">¶</a></h2>
<p>Django 是一个用 Python 编写的 Web 框架。这个 Web 框架支持动态网站，应用程序和服务开发。它提供了一组工具和功能，可解决许多与 Web 开发相关的常见问题，例如安全功能，数据库访问，会话，模板处理，URL 路由，国际化，本地化等等。</p>
<p>使用诸如 Django 之类的 Web 框架，能使我们能够以标准化的方式快速开发安全可靠的Web 应用程序，从而无需重新开发。</p>
<p>那么，Django 有什么特别之处呢？</p>
<p>对于初学者来说，这是一个 Python Web 开源框架，这意味着您可以从各种各样的开源库中受益。在<a class="reference external" href="https://pypi.python.org/pypi">python软件资料库(pypi)</a>&nbsp;中托管了超过 <strong>11.6万</strong> 个的包（按照 2017 年 9 月 6 日的数据）。如果你需要解决一个特定问题的时候，可能已经有相关的库给你使用。</p>
<p>Django 是用 Python 编写的最流行的 Web 框架之一。它可以提供各种功能，例如用于开发和测试的独立 Web 服务器，缓存，中间件系统，ORM，模板引擎，表单处理，基于 Python 单元测试工具的接口。Django 还附带了电池，提供内置应用程序，如认证系统，具有自动生成<code class="docutils literal notranslate"><span class="pre">CRUD</span></code>(增删改除)操作页面的管理界面，生成订阅文档（RSS / Atom），站点地图等。甚至在 Django 中建立了一个地理信息系统（GIS）框架。</p>
<p>而且 Django 的开发得到了 <a class="reference external" href="https://www.djangoproject.com/foundation/">Django软件基金会的</a>支持，并且由 JetBrains 和 Instagram 等公司赞助。Django 到目前为止，已经持续开发维护超过12年了，这足以证明它是一个成熟，可靠和安全的 Web 框架。</p>
<div class="section" id="django">
<span id="id2"></span><h3>谁在使用Django？<a class="headerlink" href="#django" title="永久链接至标题">¶</a></h3>
<p>为什么要知道谁在使用 Django 呢？</p>
<p>因为这能很好的让我们了解和知道它能做些什么？</p>
<p>在使用 Django 的最大网站中，有：<a class="reference external" href="https://instagram.com/">Instagram</a>，&nbsp;<a class="reference external" href="https://disqus.com/">Disqus</a>，<a class="reference external" href="https://www.mozilla.org/">Mozilla</a>，&nbsp;<a class="reference external" href="https://bitbucket.org/">Bitbucket</a>，<a class="reference external" href="https://www.last.fm/">Last.fm</a>，&nbsp;<a class="reference external" href="http://www.nationalgeographic.com/">National Geographic</a>。</p>
<p>当然，远远不止上面列举的这些，你可以看下 <a class="reference external" href="https://www.djangosites.org/">Django Sites</a> 数据库，它们提供了超过 <strong>5000</strong>&nbsp;个 Django 支持的 Web站点的列表。</p>
<p>顺便说一下，去年在 Django Under The Hood 2016 大会上，Django 核心开发人员Carl Meyer 和 Instagram 员工就<a class="reference external" href="https://www.youtube.com/watch?v=lx5WQjXLlq8">如何在规模上使用Django</a>&nbsp;以及它如何支持其增长展开了一次演讲。这是一个长达一个小时的谈话，如果你有兴趣的话，可以去了解下。</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="">
<span id="id3"></span><h2>安装<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>如果我们想开始使用 Django ，那么我们需要安装一些应用程序，包括安装 <strong>Python</strong>，<strong>Virtualenv</strong> 和 <strong>Django</strong>。</p>
<p><img alt="基本设置" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/Pixton_Comic_Basic_Setup.png" /></p>
<p>一开始，强烈建议使用虚拟环境，虽然不是强制性的，可是这对于初学者来说，是一个很好的开端.</p>
<p>在使用 Django 开发 Web 站点或 Web 项目时，必须安装外部库以支持开发是非常常见的。使用虚拟环境，您开发的每个项目都会有其独立的环境。所以依赖关系不会发生冲突。它还允许您维护在不同 Django 版本上运行的本地计算机项目。</p>
<div class="section" id="python-3-6-2">
<span id="python-3-6-2"></span><h3>安装Python 3.6.2<a class="headerlink" href="#python-3-6-2" title="永久链接至标题">¶</a></h3>
<p>我们想要做的第一件事是安装最新的  Python 发行版，它是 <strong>Python 3.6.2</strong>。至少在我写这篇教程的时候是这样。如果有更新的版本，请与它一起使用。接下来的步骤应该保持大致相同。</p>
<p>我们将使用 Python 3，因为最重要的 Python 库已经移植到 Python 3，并且下一个主要的 Django 版本（2.x）不再支持 Python 2。所以 Python 3 是很有必要的。</p>
<p>在 Mac 中，最好的安装方法就是 <a class="reference external" href="https://brew.sh/">Homebrew</a>。如果您还没有在Mac 上安装它，请在 <strong>终端</strong> 运行以下命令：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ruby</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span>
</pre></div>
</div>
<p>如果您没有安装<strong>命令行工具<code class="docutils literal notranslate"><span class="pre">(Command</span> <span class="pre">Line</span> <span class="pre">Tools)</span></code></strong>，则 Homebrew 安装可能需要更长一点时间。但它会自动处理，所以不用担心。请坐下来等到安装完成。</p>
<p>当您看到以下消息时，您会知道安装何时完成：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>==&gt; Installation successful!

==&gt; Homebrew has enabled anonymous aggregate user behaviour analytics.
Read the analytics documentation (and how to opt-out) here:
  https://docs.brew.sh/Analytics.html

==&gt; Next steps:
- Run `brew help` to get started
- Further documentation:
    https://docs.brew.sh
</pre></div>
</div>
<p>请运行以下命令来安装Python 3：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">python3</span>
</pre></div>
</div>
<p>由于 macOS 已经安装了Python 2，所以在安装 Python 3 之后，您将可以使用这两个版本。</p>
<p>要运行 Python 2，请使用<code class="docutils literal notranslate"><span class="pre">python</span></code>终端中的命令。对于 Python 3，请<code class="docutils literal notranslate"><span class="pre">python3</span></code>改用。</p>
<p>我们可以通过在终端中输入来测试安装：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">--</span><span class="n">version</span>
<span class="n">Python</span> <span class="mf">3.6</span><span class="o">.</span><span class="mi">2</span>
</pre></div>
</div>
<p><img alt="macOS测试Python 3" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/mac/test-python.png" /></p>
<p>到此时，Python 已经安装完成了。进入下一步：虚拟环境！</p>
</div>
<div class="section" id="virtualenv">
<span id="virtualenv"></span><h3>安装 Virtualenv<a class="headerlink" href="#virtualenv" title="永久链接至标题">¶</a></h3>
<p>接下来这一步，我们将通过 <strong>pip</strong>(一个管理和安装Python包的工具)来安装<strong>Virtualenv</strong>。</p>
<p>请注意，Homebrew 已经为您的 Python 3.6.2 安装了 <code class="docutils literal notranslate"><span class="pre">pip3</span></code>。</p>
<p>在终端中，执行下面的命令：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip3</span> <span class="n">install</span> <span class="n">virtualenv</span>
</pre></div>
</div>
<p><img alt="pip3安装virtualenv" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/mac/pip-virtualenv.png" /></p>
<p>到目前为止，我们执行的操作都是在系统环境下的。不过，从这一刻起，我们安装的所有东西，包括 Django 本身，都将安装在虚拟环境中。</p>
<p>你可以这样想像一下：对于每个 diango 项目，我们都会为它创建一个虚拟环境。这就好比每个 Django 项目都是一个独立的沙盒，你可以在这个沙盒里随意的玩，安装软件包，卸载软件包，不管怎么对系统环境都不会有任何影响，也不会对其他项目有影响。</p>
<p>我个人喜欢在我的电脑上创建一个 <strong>Development</strong> 的文件夹，然后在这个文件夹下存放我的所有项目。当然，你也可以根据下面的步骤来创建你个人的目录。</p>
<p>通常，我会在我的 <strong>Development</strong> 文件夹中创建一个项目名称的新文件夹。竟然这是我们的第一个项目，就直接将项目名称起为 <strong>myproject</strong>。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">myproject</span>
<span class="n">cd</span> <span class="n">myproject</span>
</pre></div>
</div>
<p><img alt="创建myproject文件夹" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/mac/myproject.png" /></p>
<p>该文件夹将存储与 Django 项目相关的所有文件，包括其虚拟环境。</p>
<p>接下来，我们将开始创建我们第一个虚拟环境和安装 Django。</p>
<p>在 <strong>myproject</strong> 文件夹中，我们创建一个基于 python 3 的虚拟环境。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="n">venv</span> <span class="o">-</span><span class="n">p</span> <span class="n">python3</span>
</pre></div>
</div>
<p><img alt="VIRTUALENV" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/mac/venv.png" /></p>
<p>如上图所示，我们的虚拟环境已创建完成。那么我们将如何使用它呢？</p>
<p>当然，我们先开启虚拟环境啦，可以通过以下命令来激活一下虚拟环境：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>如果你在命令行的前面看到 <strong>（venv）</strong>，就说明，虚拟环境激活成功，现在已经进入到虚拟环境里面了。如下图所示：</p>
<p><img alt="Virtualenv激活" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/mac/activate.png" /></p>
<p>那么这里面到底发生了什么呢？</p>
<p>其实这里我们首先创建了名为 <strong>venv</strong> 的特殊文件夹，这个文件夹里面有 python 的副本，当我们激活 <strong>venv</strong> 环境之后，运行 <code class="docutils literal notranslate"><span class="pre">Python</span></code> 命令时，它使用的是存储在 <strong>venv</strong> 里面 <code class="docutils literal notranslate"><span class="pre">Python</span></code> 环境 ，而不是我们装在操作系统上的。</p>
<p>如果在该环境下，我们使用 <strong>PIP</strong> 安装 python 软件包，比如 Django ，那么它是被安装在 <strong>venv</strong> 的虚拟环境上的。</p>
<p>这里有一点需要注意的，当我们启动了 <strong>venv</strong> 这个虚拟环境后，我们使用命令 <code class="docutils literal notranslate"><span class="pre">python</span></code> 就能调用 python 3.6.2 ，而且也仅仅使用 <code class="docutils literal notranslate"><span class="pre">pip</span></code>（而不是<code class="docutils literal notranslate"><span class="pre">pip3</span></code>）来安装软件包。</p>
<p>那么如果我们想退出 <strong>venv</strong> 虚拟环境，该如何操作呢？</p>
<p>只要运行以下命令就可以：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">deactivate</span>
</pre></div>
</div>
<p>不过，现在我们先不退出虚拟环境 <strong>venv</strong> ，保持着虚拟环境的激活状态，开始下一步操作。</p>
</div>
<div class="section" id="django-1-11-4">
<span id="django-1-11-4"></span><h3>安装Django 1.11.4<a class="headerlink" href="#django-1-11-4" title="永久链接至标题">¶</a></h3>
<p>现在我们来安装以下 Django 1.11.4 ，因为我们已经开启了虚拟环境 <strong>venv</strong> ，因此，这操作会非常的简单。我们将运行下面的命令来安装 Django ：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">django</span>
</pre></div>
</div>
<p><img alt="pip安装django" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/mac/pip-django.png" /></p>
<p>安装成功了，现在一切都准备就绪了！</p>
<p><img alt="结束安装" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/Pixton_Comic_End_Installation.png" /></p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="">
<span id="id4"></span><h2>开始一个新项目<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>要开始一个新的 Django项目，运行下面的命令：</p>
<p>到目前为止，我们终于可以开始一个新的 Django 项目了，运行下面的命令，创建一个 Django 项目：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">django</span><span class="o">-</span><span class="n">admin</span> <span class="n">startproject</span> <span class="n">myproject</span>
</pre></div>
</div>
<p>命令行工具 <strong>django-admin</strong> 会在安装 Django 的时候一起安装的。</p>
<p>当我们运行了上面的命令之后，系统就会自动的为 Django 项目生成基础的文件。</p>
<p>我们可以打开 <strong>myproject</strong> 目录，可以看到具体的文件结构如下所示：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myproject</span><span class="o">/</span>                  <span class="o">&lt;--</span> <span class="n">higher</span> <span class="n">level</span> <span class="n">folder</span>
 <span class="o">|--</span> <span class="n">myproject</span><span class="o">/</span>             <span class="o">&lt;--</span> <span class="n">django</span> <span class="n">project</span> <span class="n">folder</span>
 <span class="o">|</span>    <span class="o">|--</span> <span class="n">myproject</span><span class="o">/</span>
 <span class="o">|</span>    <span class="o">|</span>    <span class="o">|--</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
 <span class="o">|</span>    <span class="o">|</span>    <span class="o">|--</span> <span class="n">settings</span><span class="o">.</span><span class="n">py</span>
 <span class="o">|</span>    <span class="o">|</span>    <span class="o">|--</span> <span class="n">urls</span><span class="o">.</span><span class="n">py</span>
 <span class="o">|</span>    <span class="o">|</span>    <span class="o">|--</span> <span class="n">wsgi</span><span class="o">.</span><span class="n">py</span>
 <span class="o">|</span>    <span class="o">+--</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span>
 <span class="o">+--</span> <span class="n">venv</span><span class="o">/</span>                  <span class="o">&lt;--</span> <span class="n">virtual</span> <span class="n">environment</span> <span class="n">folder</span>
</pre></div>
</div>
<p>可以看到，一个初始 Django 的项目由五个文件组成：</p>
<ul class="simple">
<li><strong>manage.py</strong>：<strong>django-admin</strong> 是命令行工具的快捷方式。它用于运行与我们项目相关的管理命令。我们将使用它来运行开发服务器，运行测试，创建迁移等等。</li>
<li><strong><strong>init</strong>.py</strong>：这个空文件告诉 Python 这个文件夹是一个 Python 包。</li>
<li><strong>settings.py</strong>：这个文件包含了所有的项目配置。我们会一直使用到这个文件。</li>
<li><strong>urls.py</strong>：这个文件负责映射我们项目中的路由和路径。例如，如果您想在 URL <code class="docutils literal notranslate"><span class="pre">/about/</span></code> 中显示某些内容，则必须先将其映射到此处。</li>
<li><strong>wsgi.py</strong>：该文件是用于部署简单的网关接口。现在我们暂时不用关心它的内容。</li>
</ul>
<p>Django 自带有一个简单的 Web 服务器。在开发过程中非常方便，所以我们不需要安装其他任何软件即可以在本地运行项目。我们可以通过执行命令来运行它：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">runserver</span>
</pre></div>
</div>
<p>现在在 Web 浏览器中打开以下 URL：<strong>http://127.0.0.1:8000</strong>，您应该看到以下页面：</p>
<p><img alt="有效！" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/it-worked.png" /></p>
<p>这里提醒一点，如果你需要停止服务器，可以 <code class="docutils literal notranslate"><span class="pre">Control</span> <span class="pre">+</span> <span class="pre">C</span></code> 点击停止开发服务器。</p>
</div>
<hr class="docutils" />
<div class="section" id="django">
<span id="id5"></span><h2>Django 的应用<a class="headerlink" href="#django" title="永久链接至标题">¶</a></h2>
<p>在 Django 哲学中，我们有两个重要的概念：</p>
<ul class="simple">
<li><strong>app</strong>：是一个可以执行某些操作的 Web 应用程序。一个应用程序通常由一组 models(数据库表)，views(视图)，templates(模板)，tests(测试) 组成。</li>
<li><strong>project</strong>：是配置和应用程序的集合。一个项目可以由多个应用程序或一个应用程序组成。</li>
</ul>
<p>请注意，如果没有一个 project，你就无法运行 Django 应用程序。像博客这样的简单网站可以完全在单个应用程序中编写，例如可以将其命名为 blog或 weblog。</p>
<p><img alt="Django应用程序" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/Pixton_Comic_Django_Apps.png" /></p>
<p>当然这是组织源代码的一种方式，现在刚入门，判断确定什么是不是应用程序这些还不太重要。包括如何组织代码等，现在都不是担心这些问题的时候。现在，首先让我们先熟悉了解 Django 的 API 和基础知识。</p>
<p>好了，为了更好的了解，我们先来创建一个简单的论坛项目，那么我们要创建一个应用程序，首先要进入到 <strong>manage.py</strong> 文件所在的目录并执行以下命令：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">django</span><span class="o">-</span><span class="n">admin</span> <span class="n">startapp</span> <span class="n">boards</span>
</pre></div>
</div>
<p>请注意，这次我们使用了命令 <strong>startapp</strong>。</p>
<p>这会给我们以下的目录结构：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>myproject/
 |-- myproject/
 |    |-- boards/                &lt;-- our new django app!
 |    |    |-- migrations/
 |    |    |    +-- __init__.py
 |    |    |-- __init__.py
 |    |    |-- admin.py
 |    |    |-- apps.py
 |    |    |-- models.py
 |    |    |-- tests.py
 |    |    +-- views.py
 |    |-- myproject/
 |    |    |-- __init__.py
 |    |    |-- settings.py
 |    |    |-- urls.py
 |    |    |-- wsgi.py
 |    +-- manage.py
 +-- venv/
</pre></div>
</div>
<p>所以，我们先来看看每个文件的功能：</p>
<ul class="simple">
<li><strong>migrations /</strong>：在这个文件夹中，Django 会存储一些文件以跟踪您在 <strong>models.py</strong> 文件中创建的更改，目的是为了保持数据库和 <strong>models.py</strong> 同步。</li>
<li><strong>admin.py</strong>：这是 Django应用程序一个名为 <strong>Django Admin</strong> 的内置配置文件。</li>
<li><strong>apps.py</strong>：这是应用程序本身的配置文件。</li>
<li><strong>models.py</strong>：这里是我们定义 Web 应用程序实体的地方。models  由 Django 自动转换为数据库表。</li>
<li><strong>tests.py</strong>：该文件用于为应用程序编写单元测试。</li>
<li><strong>views.py</strong>：这是我们处理Web应用程序请求(request)/响应(resopnse)周期的文件。</li>
</ul>
<p>现在我们创建了我们的第一个应用程序，让我们来配置一下项目以便启用这个应用程序。</p>
<p>为此，请打开<strong>settings.py</strong>并尝试查找<code class="docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code>变量：</p>
<p><strong>settings.py</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>正如你所看到的，Django 已经安装了6个内置的应用程序。它们提供大多数Web应用程序所需的常用功能，如身份验证，会话，静态文件管理（图像，JavaScript，CSS等）等。</p>
<p>我们将会在本系列教程中探索这些应用程序。但现在，先不管它们，只需将我们的应用程序 boards 添加到 <code class="docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code> 列表即可：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>

    <span class="s1">&#39;boards&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>使用上个漫画中的正方形和圆形的比喻，黄色圆圈将成为我们的 <strong>boards</strong> 应用程序，而 <strong>django.contrib.admin</strong>，<strong>django.contrib.auth</strong> 等将成为红色圆圈。</p>
</div>
<hr class="docutils" />
<div class="section" id="hello-world">
<span id="hello-world"></span><h2>Hello, World!<a class="headerlink" href="#hello-world" title="永久链接至标题">¶</a></h2>
<p>现在我们先来写一个我们的第一个 <strong>视图（view）</strong> ，那么，现在我们来看看该如何使用 Django 来创建一个新的页面吧。</p>
<p>打开 <strong>boards</strong> 应用程序中的 <strong>views.py</strong> 文件，并添加下面的代码：</p>
<p><strong>views.py</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>

<span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>视图（view）</strong> 是接收 <code class="docutils literal notranslate"><span class="pre">HttpRequest</span></code> 对象并返回 <code class="docutils literal notranslate"><span class="pre">HttpResponse</span></code>对象的 Python 函数。接收 request 作为参数并返回 response 作为结果。这个过程是需要我们记住的。</p>
<p>因此，就像我们上面的代码，我们定义了一个简单的视图，命名为 <code class="docutils literal notranslate"><span class="pre">home</span></code> ，然后我们简单的返回了一个字符串 <strong>Hello，World！</strong></p>
<p>那么我们直接运行就可以了吗？</p>
<p>并不是的，我们还没有告诉 Django 什么时候调用这个 <strong>视图（view）</strong> 呢？这就需要我们在 <strong>urls.py</strong> 文件中完成：</p>
<p><strong>urls.py</strong></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>

<span class="kn">from</span> <span class="nn">boards</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^/code&gt;, views.home, name=&#39;</span><span class="n">home</span><span class="s1">&#39;),</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>如果您将上面的代码段与您的 <strong>urls.py</strong> 文件进行比较，您会注意到我添加了以下的代码：<code class="docutils literal notranslate"><span class="pre">url(r'^$',</span> <span class="pre">views.home,</span> <span class="pre">name='home')</span></code> 并使用我们的应用程序 <strong>boards</strong> 中导入了 <strong>views</strong> 模块。<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">boards</span> <span class="pre">import</span> <span class="pre">views</span></code></p>
<p>可能这里大家还是会有很多疑问，不过先这样做，在后面我们会详细探讨这些概念。</p>
<p>但是现在，Django 使用<strong>正则表达式</strong>来匹配请求的URL。对于我们的 <strong>home</strong> 视图，我使用的是<code class="docutils literal notranslate"><span class="pre">^$</span></code>正则表达式，它将匹配空白路径，这是主页（此URL：<strong>http://127.0.0.1:8000</strong>）。如果我想匹配URL <strong>http://127.0.0.1:8000/homepage/</strong>，那么我们 url 的正则表达式就应该这样写：<code class="docutils literal notranslate"><span class="pre">url(r'^homepage/$',</span> <span class="pre">views.home,</span> <span class="pre">name='home')</span></code>。</p>
<p>运行项目，让我们看看会发生什么：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">runserver</span>
</pre></div>
</div>
<p>在 Web 浏览器中，打开 http://127.0.0.1:8000 ：</p>
<p><img alt="你好，世界！" src="https://simpleisbetterthancomplex.com/media/series/beginners-guide/1.11/part-1/hello-world.png" /></p>
<p>这样我们就看到了我们刚刚创建的第一个界面了。</p>
</div>
<hr class="docutils" />
<div class="section" id="">
<span id="id6"></span><h2>总结<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>这是本系列教程的第一部分。在本教程中，我们学习了如何安装最新的 Python 版本以及如何设置开发环境。我们还介绍了虚拟环境，并开始了我们第一个 Django 项目，并已创建了我们的初始应用程序。</p>
<p>我希望你喜欢第一部分！第二部将涉及模型，视图，模板和网址。我们将一起探索所有的Django 基础知识！</p>
<p>就这样我们可以保持在同一页面上，我在 GitHub 上提供了源代码。项目的当前状态可以在发布<strong>release tag v0.1-lw</strong>下找到。下面的链接将带你到正确的地方：</p>
<p><a class="reference external" href="https://github.com/sibtc/django-beginners-guide/tree/v0.1-lw">https://github.com/sibtc/django-beginners-guide/tree/v0.1-lw</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Django-part2.html" class="btn btn-neutral float-right" title="介绍" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Django.html" class="btn btn-neutral" title="Django" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Vic Wang.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'beta',
            LANGUAGE:'zh',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/GA.js"></script>
      <script type="text/javascript" src="../_static/googleAnalysis.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>