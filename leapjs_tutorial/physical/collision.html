

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>图形样式 &mdash; LeapJS 教程 beta 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="项目列表" href="../projects/index.html" />
    <link rel="prev" title="碰撞" href="index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LeapJS 教程
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">LeapJS 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic_shapes/index.html">绘图函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shapes/index.html">图形对象</a></li>
<li class="toctree-l1"><a class="reference internal" href="../audio/index.html">音乐与音效</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">事件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transform/transform.html">图形变换</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">碰撞</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">图形样式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#">线条和填充</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">颜色常量</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#">实例：设置矩形的颜色</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rgb">RGB值</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">透明度</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rgba">RGBA值</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hsl">HSL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hsla">HSLA</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">虚线</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">透明度</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">渐变色</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#">实例：渐变色</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">事件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#">鼠标事件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#">实例：点击成图</a></li>
<li class="toctree-l4"><a class="reference internal" href="#">移动事件</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#">键盘事件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#"><strong>数字键</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#">手势事件</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">图形变换</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#">平移</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">放大与缩小</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">斜切</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">碰撞</a></li>
<li class="toctree-l3"><a class="reference internal" href="#">图像的碰撞</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/index.html">项目列表</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LeapJS 教程</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">碰撞</a> &raquo;</li>
        
      <li>图形样式</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="">
<span id="id1"></span><h1>图形样式<a class="headerlink" href="#" title="永久链接至标题">¶</a></h1>
<p>图形一般包含边和填充，图形的样式也是由这两块共同组成。</p>
<div class="section" id="">
<span id="id2"></span><h2>线条和填充<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>图形的线条和填充分别由<code class="docutils literal notranslate"><span class="pre">strokeStyle</span></code>和<code class="docutils literal notranslate"><span class="pre">fillStyle</span></code>这两个属性来决定</p>
</div>
<div class="section" id="">
<span id="id3"></span><h2>颜色常量<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">fillStyle</span></code>与<code class="docutils literal notranslate"><span class="pre">stokeStyle</span></code>可以设置为表示颜色的字符串常量，从而可以直接设置图形的颜色。</p>
<p>一些常见的颜色的常量有aqua、black、blue、fuchsia、gray、green、lime、maroon、navy、olive、purple、red、silver、teal、white、yellow。</p>
<div class="section" id="">
<span id="id4"></span><h3>实例：设置矩形的颜色<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">fill</span><span class="p">()</span>
</pre></div>
</div>
<p><img alt="style1" src="../_images/style1.png" /></p>
</div>
</div>
<div class="section" id="rgb">
<span id="rgb"></span><h2>RGB值<a class="headerlink" href="#rgb" title="永久链接至标题">¶</a></h2>
<p>如果用放大镜看显示器的屏幕，会发现屏幕的每个点都是由3个颜色组成，分别是</p>
<ul class="simple">
<li>Red, 红色</li>
<li>Green，绿色</li>
<li>Blue，蓝色</li>
</ul>
<p>而这3个颜色的首字母组合，即RGB，这也是RGB值的由来。在RGB值的组成中，每一个数字分布代表了每个颜色的强弱，0代表关闭，255代表最高。</p>
<p>有了这3个基本的颜色，按照亮度的不同，就以组成各种个样的颜色。</p>
</div>
<div class="section" id="">
<span id="id5"></span><h2>透明度<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>透明度的数值从0到1，0代表完全透明，即什么都看不见，1代表全不透，是图像透明度的默认值。</p>
<p>在Canvas中，图像的透明度用globalApha来表示，设置图形的globalAlpha值即可获得不同的透明度。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">globalAlpha</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">;</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="rgba">
<span id="rgba"></span><h2>RGBA值<a class="headerlink" href="#rgba" title="永久链接至标题">¶</a></h2>
<p>RGBA值是RGB的扩充，在使用颜色时可以直接制定该颜色的Alpha值。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rect</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">&quot;rgba(255, 255, 0, 0,5)&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>前三位对应的是RGB值，第四位即透明度值</p>
</div>
<div class="section" id="hsl">
<span id="hsl"></span><h2>HSL<a class="headerlink" href="#hsl" title="永久链接至标题">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">HSL</span><span class="p">(</span><span class="mi">360</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="" src="../_images/hsl.png" /></p>
</div>
<div class="section" id="hsla">
<span id="hsla"></span><h2>HSLA<a class="headerlink" href="#hsla" title="永久链接至标题">¶</a></h2>
<p>即HSL添加透明度Alpha</p>
</div>
<div class="section" id="">
<span id="id6"></span><h2>虚线<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>图形的<code class="docutils literal notranslate"><span class="pre">setLineDash</span></code>方法可以用来设置虚线条，它接受一个数组对象，按照数组的顺序，轮流绘制线条的实部、虚部。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">line</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">line</span><span class="p">.</span><span class="nx">setLineDash</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">]);</span>
<span class="nx">line</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id7"></span><h2>透明度<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>设置图形的<code class="docutils literal notranslate"><span class="pre">globalAlpha</span></code>可以改变图形的透明度，默认为1，设置区间：0 ~ 1。</p>
</div>
<div class="section" id="">
<span id="id8"></span><h2>渐变色<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>在上面的例子中，我们图形的颜色是单一的。而在实际生活中，颜色往往都不是均匀的。我们可以创建一个变化的颜色来实现这个效果。</p>
<div class="section" id="">
<span id="id9"></span><h3>实例：渐变色<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">grd</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">createLinearGradient</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span>
<span class="nx">grd</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;#FF0000&quot;</span><span class="p">);</span>
<span class="nx">grd</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;#00FF00&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">grd</span><span class="p">;</span>
<span class="nx">rect</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
</pre></div>
</div>
<p>渐变色效果</p>
<p><img alt="rgba" src="../_images/gradient.png" /></p>
<p>addColorStop是在图像的特定位置创建出制定的颜色，中间的变化则由计算机自动完成。</p>
<p>通过添加更多的颜色，我们可以创建出更多特殊的渐变色。</p>
<p>彩虹是难得一见的奇观，一般只有雨过天晴的时候才会出现，现在，我们就来创建一个彩虹出来。</p>
</div>
</div>
</div>
<div class="section" id="">
<span id="id10"></span><h1>事件<a class="headerlink" href="#" title="永久链接至标题">¶</a></h1>
<div class="section" id="">
<span id="id11"></span><h2>鼠标事件<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>事件驱动在JavaScript中是非常常见的一种程序设计模式，通过监测事件的发生，调用预定的函数，从而实现异步执行的效果。</p>
<p>比如说，当鼠标在画布上移动时，鼠标的坐标值会随之而变，这就是一个简单的事件在驱动着坐标值不断的发生变化。</p>
<p><code class="docutils literal notranslate"><span class="pre">Mouse</span></code>的属性</p>
<p>属性
x    鼠标当前的x值，可以在画布左下角看到
y    鼠标当前的y值，可以在画布左下角看到</p>
<p><strong>点击事件</strong></p>
<p>当鼠标在画布上点击时，就会触发<code class="docutils literal notranslate"><span class="pre">click</span></code>事件，如果配置了<code class="docutils literal notranslate"><span class="pre">Mouse.click</span></code>函数，那么该函数就会执行。</p>
<div class="section" id="">
<span id="id12"></span><h3>实例：点击成图<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<p>这个项目的目标是创建一个空白的画布，当鼠标在画布上面点击时，就会在鼠标的位置绘制一个圆圈。</p>
<p>第一步，我们需要创建一个圆，这里我们可以创建一个默认的圆图形。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">();</span>
</pre></div>
</div>
<p>第二步，定义一个绘制圆的函数<code class="docutils literal notranslate"><span class="pre">drawEvent</span></code>，因为我们要将圆绘制在鼠标的位置，因此我们要将圆中心设置为鼠标的位置。</p>
<p><code class="docutils literal notranslate"><span class="pre">Mouse</span></code>对象，即鼠标，有两个属性<code class="docutils literal notranslate"><span class="pre">x</span></code>和<code class="docutils literal notranslate"><span class="pre">y</span></code>，他们会随着鼠标的移动而发生变化，因此我们只要直接使用这两个属性就可以了。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">drawEvent</span><span class="p">(){</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">Mouse</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">Mouse</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>第三步，将函数绑定给click事件</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Mouse</span><span class="p">.</span><span class="nx">click</span> <span class="o">=</span> <span class="nx">drawEvent</span><span class="p">;</span>
</pre></div>
</div>
<p>完整代码如下，我们用简单的9行代码，就完成了这个例子。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">();</span>

<span class="kd">function</span> <span class="nx">drawEvent</span><span class="p">(){</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">Mouse</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">Mouse</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">Mouse</span><span class="p">.</span><span class="nx">click</span> <span class="o">=</span> <span class="nx">drawEvent</span><span class="p">;</span>
</pre></div>
</div>
<p>一般情况下，我们可以省略函数名，直接定义一个匿名函数，可以简单写成。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">();</span>

<span class="nx">Mouse</span><span class="p">.</span><span class="nx">click</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">Mouse</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">Mouse</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="nx">circle</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>点击画布，就会在画布上留下一个圆圈。</p>
<p><img alt="click" src="../_images/click1.png" /></p>
</div>
<div class="section" id="">
<span id="id13"></span><h3>移动事件<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<p>当鼠标移动时，就会触发<code class="docutils literal notranslate"><span class="pre">move</span></code>事件。只要我们定义了<code class="docutils literal notranslate"><span class="pre">move</span></code>函数，那么该函数就会执行。</p>
<div class="section" id="">
<span id="id14"></span><h4>实例：写字板<a class="headerlink" href="#" title="永久链接至标题">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Mouse</span></code>的事件</p>
<p>手机上的事件</p>
<p>如果应用需要在手机上运行，需要特别注意事件的区别。在手机上，没有鼠标的存在，只有点击屏幕后才有移动事件的触发。</p>
<p>电脑：<code class="docutils literal notranslate"><span class="pre">Move</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Down</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Move</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Up/Click</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Down</span></code></p>
<p>手机：<code class="docutils literal notranslate"><span class="pre">Down</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Move</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Up/Click</span></code></p>
<p>所以为手机开发应用时，我们应该小心的使用这些事件的顺序</p>
</div>
</div>
</div>
<div class="section" id="">
<span id="id15"></span><h2>键盘事件<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>和鼠标类似，键盘也会触发事件。</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">down</span></code>：当按键被按下时触发</li>
<li><code class="docutils literal notranslate"><span class="pre">up</span></code>：当按键松开时触发</li>
<li><code class="docutils literal notranslate"><span class="pre">press：当按键被按下并且松开时触发</span></code></li>
</ul>
<p>方法一：</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Key</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">press</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Key</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="nx">press</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>Key是一个对象，因此以上两种方式都可以实现对按键a的监听。</p>
<p>一些特别的键名称</p>
<p>| 按键    | 名称         | 备注       |
| ----- | ---------- | -------- |
| <code class="docutils literal notranslate"><span class="pre">↑</span></code>   | ArrowUp    | 无press事件 |
| <code class="docutils literal notranslate"><span class="pre">↓</span></code>   | ArrowDown  | 无press事件 |
| <code class="docutils literal notranslate"><span class="pre">←</span></code>   | ArrowLeft  | 无press事件 |
| <code class="docutils literal notranslate"><span class="pre">→</span></code>   | ArrowRight | 无press事件 |
| <code class="docutils literal notranslate"><span class="pre">Esc</span></code> | Escape     |          |
| <code class="docutils literal notranslate"><span class="pre">空格</span></code>  | Space      |          |
| <code class="docutils literal notranslate"><span class="pre">回车键</span></code> | Enter      |          |</p>
<div class="section" id="">
<span id="id16"></span><h3><strong>数字键</strong><a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<p>因为数字无法作为属性的名称，所有数字键只能使用以下方式进行调用。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Key</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">].</span><span class="nx">press</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="">
<span id="id17"></span><h2>手势事件<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>另外，手机上的键盘需要触发输入才能够显示，因此我们也要避免使用键盘输入。</p>
<p><code class="docutils literal notranslate"><span class="pre">leapjs</span></code>包含了对手势的基本支持功能，在手机上，支持4个简单的滑动手势，上下左右，分别对应键盘的上下左右键。使用了这些按键的程序，在手机上可以使用滑动手势来控制。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Rectangle</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="nx">Key</span><span class="p">.</span><span class="nx">ArrowLeft</span><span class="p">.</span><span class="nx">down</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>  <span class="nx">rect</span><span class="p">.</span><span class="nx">x</span> <span class="o">-=</span> <span class="mi">10</span><span class="p">;};</span>
<span class="nx">Key</span><span class="p">.</span><span class="nx">ArrowRight</span><span class="p">.</span><span class="nx">down</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>  <span class="nx">rect</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">;};</span>
<span class="nx">Key</span><span class="p">.</span><span class="nx">ArrowUp</span><span class="p">.</span><span class="nx">down</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>  <span class="nx">rect</span><span class="p">.</span><span class="nx">y</span> <span class="o">-=</span> <span class="mi">10</span><span class="p">;};</span>
<span class="nx">Key</span><span class="p">.</span><span class="nx">ArrowDown</span><span class="p">.</span><span class="nx">down</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>  <span class="nx">rect</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">;};</span>

<span class="kd">function</span> <span class="nx">main</span><span class="p">(){</span>
  <span class="nx">canvas</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
  <span class="nx">rect</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">run</span><span class="p">(</span><span class="nx">main</span><span class="p">)</span>
</pre></div>
</div>
<p>在这个例子中，我们可以使用键盘的方向键来移动矩形的位置，也可以在手机上用移动手势来控制。</p>
</div>
</div>
<div class="section" id="">
<span id="id18"></span><h1>图形变换<a class="headerlink" href="#" title="永久链接至标题">¶</a></h1>
<p>所有的图形都可以在画布上按照一定的规律进行变换</p>
<div class="section" id="">
<span id="id19"></span><h2>平移<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Circle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">circle</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">circle</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
</pre></div>
</div>
<p>图形调用translate即可在画布上进行偏移。</p>
<p>如果需要对线条、多变形进行移动时，就可以使用该方式，而不用</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">polygon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Polygon</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
<span class="nx">polygon</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">polygon</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id20"></span><h2>放大与缩小<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>我们可以改变矩形的宽高来改变矩形的大小，改变圆的半径来改变圆的大小。但是如果我们要改变其他图形的大小，就有点麻烦了。</p>
<p>不过，我们可以通过修改图像的比例来达到这个效果。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rect</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<p>同样的，放大缩小时是以坐标原点作为参考系的，我们可以通过设定锚点来修改。</p>
</div>
<div class="section" id="">
<span id="id21"></span><h2>斜切<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>图像的变换都是通过矩形计算进行的，如果读者想要了解更多图形变换的知识，可以在专门的网站上学习更多知识。</p>
<p><strong>平行多边形</strong></p>
<p>利用斜切来定义一个平行多边形</p>
<p>##物理效果</p>
</div>
<div class="section" id="">
<span id="id22"></span><h2>碰撞<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>所有图形类都有一个方法collide，接受一个参数，必须是另外一个图形类实例，如果两个图形相互碰撞，那么返回碰撞点坐标。否则返回<code class="docutils literal notranslate"><span class="pre">false</span></code></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rect</span><span class="p">.</span><span class="nx">collide</span><span class="p">(</span><span class="nx">circle</span><span class="p">);</span>
</pre></div>
</div>
<p>坐标点是一个对象，因此可以直接使用if来判断是否发生碰撞。</p>
<p>在图形进行旋转、翻转、平移后，碰撞仍可以进行判断。</p>
</div>
<div class="section" id="">
<span id="id23"></span><h2>图像的碰撞<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<p>为了提高执行的效率，不提供像素级别的碰撞判断，图片的碰撞体积默认为图像宽高的0.8（80%），可以通过<code class="docutils literal notranslate"><span class="pre">setCollisionScale</span></code>来设定碰撞宽高的比例。</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../projects/index.html" class="btn btn-neutral float-right" title="项目列表" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="碰撞" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Vic Wang.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'beta',
            LANGUAGE:'zh',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/GA.js"></script>
      <script type="text/javascript" src="../_static/googleAnalysis.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>